{"version":3,"file":"index-B29o0gLS.js","sources":["../../src/app.js"],"sourcesContent":["/**\n * PIMBuddy Web Application\n * Main entry point and UI controller\n */\n\nimport { authService } from './services/authService.js';\nimport { graphService } from './services/graphService.js';\nimport { bootstrapService } from './services/bootstrapService.js';\nimport { templateService } from './services/templateService.js';\nimport { pimmaidService } from './services/pimmaidService.js';\nimport { baselineService } from './services/baselineService.js';\nimport { isAppConfigured, clearAppConfig, getSavedAppConfig } from './config/authConfig.js';\nimport { SecurityUtils, sessionManager } from './utils/security.js';\nimport { Paginator } from './utils/pagination.js';\nimport { PAGINATION } from './utils/constants.js';\nimport { ExportUtils, ExportConfigs } from './utils/export.js';\nimport { BulkOperationsManager, executeBulkOperation, renderBulkProgressModal, renderBulkResultsModal } from './utils/bulkOperations.js';\nimport { errorHandler, AppError, ErrorType, retryOperation, safeExecute } from './utils/errorHandling.js';\nimport UIComponents from './utils/uiComponents.js';\nimport { CacheManager } from './core/CacheManager.js';\nimport { PageRouter } from './core/PageRouter.js';\nimport { accessibilityManager } from './core/AccessibilityManager.js';\nimport { DashboardPage } from './pages/DashboardPage.js';\nimport { GroupsPage } from './pages/GroupsPage.js';\nimport { RolesPage } from './pages/RolesPage.js';\nimport { ActivityPage } from './pages/ActivityPage.js';\nimport { ApprovalsPage } from './pages/ApprovalsPage.js';\nimport { ExpiringPage } from './pages/ExpiringPage.js';\nimport { HealthCheckPage } from './pages/HealthCheckPage.js';\nimport { CoveragePage } from './pages/CoveragePage.js';\nimport { PimmaidPage } from './pages/PimmaidPage.js';\nimport { PoliciesPage } from './pages/PoliciesPage.js';\nimport { TemplatesPage } from './pages/TemplatesPage.js';\nimport { ExportPage } from './pages/ExportPage.js';\nimport { SettingsPage } from './pages/SettingsPage.js';\nimport { BaselinePage } from './pages/BaselinePage.js';\nimport { ActivationsPage } from './pages/ActivationsPage.js';\n\nclass PIMBuddyApp {\n    constructor() {\n        this.currentPage = 'dashboard';\n        this.isConnected = false;\n        this.isConfigured = false;\n        this.isDarkMode = false;\n        this.cache = {\n            groups: null,\n            roles: null,\n            templates: null\n        };\n        // Pagination instances\n        this.paginators = {\n            groups: new Paginator([], PAGINATION.DEFAULT_PAGE_SIZE),\n            roles: new Paginator([], PAGINATION.DEFAULT_PAGE_SIZE),\n            activity: new Paginator([], PAGINATION.DEFAULT_PAGE_SIZE)\n        };\n        // Bulk operations managers\n        this.bulkOps = {\n            groups: new BulkOperationsManager()\n        };\n        // Export utilities\n        this.exportUtils = ExportUtils;\n\n        // Initialize cache manager\n        this.cacheManager = new CacheManager();\n\n        // Initialize page instances\n        this.pages = {\n            dashboard: new DashboardPage(this),\n            groups: new GroupsPage(this),\n            roles: new RolesPage(this),\n            activity: new ActivityPage(this),\n            approvals: new ApprovalsPage(this),\n            expiring: new ExpiringPage(this),\n            healthCheck: new HealthCheckPage(this),\n            coverage: new CoveragePage(this),\n            pimmaid: new PimmaidPage(this),\n            baseline: new BaselinePage(this),\n            policies: new PoliciesPage(this),\n            templates: new TemplatesPage(this),\n            export: new ExportPage(this),\n            settings: new SettingsPage(this),\n            activations: new ActivationsPage(this)\n        };\n\n        // Initialize router\n        this.router = new PageRouter();\n\n        // Register all pages with the router\n        this.router.registerPages({\n            'dashboard': this.pages.dashboard,\n            'groups': this.pages.groups,\n            'roles': this.pages.roles,\n            'entra-roles': this.pages.roles, // alias\n            'pim-activity': this.pages.activity,\n            'pending-approvals': this.pages.approvals,\n            'expiring-assignments': this.pages.expiring,\n            'health-check': this.pages.healthCheck,\n            'role-coverage': this.pages.coverage,\n            'pimmaid': this.pages.pimmaid,\n            'baseline': this.pages.baseline,\n            'policies': this.pages.policies,\n            'templates': this.pages.templates,\n            'export': this.pages.export,\n            'settings': this.pages.settings,\n            'activations': this.pages.activations,\n            'my-activations': this.pages.activations // alias\n        });\n    }\n\n    /**\n     * Initialize the application\n     */\n    async init() {\n        console.log('PIMBuddy Web initializing...');\n\n        // Initialize accessibility features\n        accessibilityManager.initialize();\n\n        // Load saved theme preference\n        this.loadTheme();\n\n        // Check if app is configured\n        this.isConfigured = isAppConfigured();\n\n        if (this.isConfigured) {\n            // Initialize MSAL with saved config\n            try {\n                const initialized = await authService.initialize();\n\n                if (initialized && authService.isAuthenticated()) {\n                    this.handleSuccessfulLogin();\n                }\n            } catch (error) {\n                console.error('Failed to initialize auth:', error);\n                this.showToast('Failed to initialize authentication', 'error');\n            }\n        } else {\n            // Show setup required message\n            this.showSetupRequired();\n        }\n\n        // Set up event listeners\n        this.setupEventListeners();\n\n        // Render initial page\n        this.renderPage(this.currentPage);\n\n        console.log('PIMBuddy Web initialized');\n    }\n\n    /**\n     * Set up all event listeners\n     */\n    setupEventListeners() {\n        // Connect button\n        document.getElementById('connect-btn').addEventListener('click', () => this.handleConnect());\n\n        // Theme toggle\n        document.getElementById('theme-toggle').addEventListener('click', () => this.toggleTheme());\n\n        // Navigation items\n        document.querySelectorAll('.nav-item').forEach(item => {\n            item.addEventListener('click', (e) => {\n                const page = e.currentTarget.dataset.page;\n                this.navigateTo(page);\n            });\n        });\n\n        // Modal backdrop click to close\n        document.querySelector('.modal-backdrop')?.addEventListener('click', () => this.closeModal());\n\n        // Keyboard shortcuts\n        document.addEventListener('keydown', (e) => {\n            // Ctrl+F for search\n            if (e.ctrlKey && e.key === 'f') {\n                e.preventDefault();\n                this.showGlobalSearch();\n            }\n            // Escape to close modal\n            if (e.key === 'Escape') {\n                this.closeModal();\n            }\n            // F5 to refresh\n            if (e.key === 'F5') {\n                e.preventDefault();\n                this.refreshCurrentPage();\n            }\n        });\n    }\n\n    /**\n     * Show setup required state\n     */\n    showSetupRequired() {\n        document.getElementById('connect-text').textContent = 'Setup';\n        document.getElementById('connection-text').textContent = 'Setup Required';\n    }\n\n    /**\n     * Handle connect/disconnect button\n     */\n    async handleConnect() {\n        if (!this.isConfigured) {\n            // Show setup wizard\n            await this.showSetupWizard();\n            return;\n        }\n\n        if (this.isConnected) {\n            // Disconnect\n            this.showLoading('Signing out...');\n            const result = await authService.logout();\n            this.hideLoading();\n\n            if (result.success) {\n                this.handleLogout();\n            } else {\n                this.showToast(result.error, 'error');\n            }\n        } else {\n            // Connect\n            this.showLoading('Signing in...');\n            const result = await authService.login();\n            this.hideLoading();\n\n            if (result.success) {\n                this.handleSuccessfulLogin();\n            } else {\n                this.showToast(result.error, 'error');\n            }\n        }\n    }\n\n    /**\n     * Handle successful login\n     */\n    handleSuccessfulLogin() {\n        this.isConnected = true;\n        const account = authService.getAccount();\n\n        // Update UI\n        document.getElementById('connect-text').textContent = 'Disconnect';\n        document.getElementById('connect-btn').classList.remove('btn-primary');\n        document.getElementById('connect-btn').classList.add('btn-danger');\n        document.getElementById('connection-indicator').classList.remove('disconnected');\n        document.getElementById('connection-indicator').classList.add('connected');\n        document.getElementById('connection-text').textContent = account?.username || 'Connected';\n\n        this.showToast('Connected successfully', 'success');\n\n        // Start session management\n        sessionManager.start(\n            // On timeout callback\n            () => {\n                this.showToast('Session expired due to inactivity', 'warning');\n                this.handleLogout();\n            },\n            // On warning callback\n            (remainingMinutes) => {\n                this.showToast(\n                    `Your session will expire in ${remainingMinutes} minutes due to inactivity`,\n                    'warning'\n                );\n            }\n        );\n\n        // Refresh current page data\n        this.refreshCurrentPage();\n    }\n\n    /**\n     * Handle logout\n     */\n    handleLogout() {\n        this.isConnected = false;\n        this.cache = { groups: null, roles: null, templates: null };\n\n        // Stop session management\n        sessionManager.stop();\n\n        // Update UI\n        document.getElementById('connect-text').textContent = 'Connect';\n        document.getElementById('connect-btn').classList.remove('btn-danger');\n        document.getElementById('connect-btn').classList.add('btn-primary');\n        document.getElementById('connection-indicator').classList.remove('connected');\n        document.getElementById('connection-indicator').classList.add('disconnected');\n        document.getElementById('connection-text').textContent = 'Not Connected';\n\n        this.showToast('Disconnected', 'info');\n        this.renderPage(this.currentPage);\n    }\n\n    /**\n     * Navigate to a page\n     */\n    async navigateTo(page, params = {}) {\n        // Use the router to navigate\n        await this.router.navigateTo(page, params);\n        this.currentPage = page;\n    }\n\n    /**\n     * Render a page\n     */\n    async renderPage(page, params = {}) {\n        // Use the router to render the page\n        await this.router.navigateTo(page, params);\n\n        // Announce page change for screen readers\n        accessibilityManager.announcePageChange(page);\n    }\n\n    /**\n     * Refresh current page\n     */\n    async refreshCurrentPage() {\n        // Use the router to refresh the current page\n        await this.router.refreshCurrentPage();\n    }\n\n    // ==========================================\n    // Setup Wizard\n    // ==========================================\n\n    async showSetupWizard() {\n        const savedConfig = getSavedAppConfig();\n        const redirectUri = window.location.origin;\n\n        const html = `\n            <h2><i class=\"fas fa-cog\"></i> PIMBuddy Setup</h2>\n            <p>Configure PIMBuddy to connect to your Azure AD tenant.</p>\n\n            <div class=\"setup-tabs\">\n                <button class=\"setup-tab active\" onclick=\"app.switchSetupTab('manual')\">\n                    <i class=\"fas fa-edit\"></i> Manual Setup\n                </button>\n                <button class=\"setup-tab\" onclick=\"app.switchSetupTab('instructions')\">\n                    <i class=\"fas fa-book\"></i> Instructions\n                </button>\n            </div>\n\n            <div id=\"setup-tab-manual\" class=\"setup-tab-content active\">\n                <form id=\"manual-setup-form\" onsubmit=\"app.saveManualConfig(event)\">\n                    <div class=\"form-group\">\n                        <label for=\"client-id\">Application (Client) ID *</label>\n                        <input type=\"text\" id=\"client-id\" class=\"input\" required\n                            placeholder=\"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\"\n                            value=\"${savedConfig?.clientId || ''}\"\n                            pattern=\"[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}\">\n                        <small class=\"form-hint\">Found in Azure Portal → App registrations → Your app → Overview</small>\n                    </div>\n\n                    <div class=\"form-group\">\n                        <label for=\"tenant-id\">Directory (Tenant) ID *</label>\n                        <input type=\"text\" id=\"tenant-id\" class=\"input\" required\n                            placeholder=\"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\"\n                            value=\"${savedConfig?.tenantId || ''}\"\n                            pattern=\"[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}\">\n                        <small class=\"form-hint\">Found in Azure Portal → Azure Active Directory → Overview</small>\n                    </div>\n\n                    <div class=\"setup-note\">\n                        <i class=\"fas fa-info-circle\"></i>\n                        <span>Your Redirect URI must be: <code>${redirectUri}</code></span>\n                    </div>\n\n                    <div id=\"setup-result\" class=\"setup-result hidden\"></div>\n\n                    <div class=\"modal-actions\">\n                        <button type=\"button\" class=\"btn btn-secondary\" onclick=\"app.closeModal()\">Cancel</button>\n                        ${savedConfig ? `\n                            <button type=\"button\" class=\"btn btn-secondary\" onclick=\"app.resetSetup()\">\n                                <i class=\"fas fa-trash\"></i> Clear\n                            </button>\n                        ` : ''}\n                        <button type=\"submit\" class=\"btn btn-primary\">\n                            <i class=\"fas fa-save\"></i> Save & Connect\n                        </button>\n                    </div>\n                </form>\n            </div>\n\n            <div id=\"setup-tab-instructions\" class=\"setup-tab-content\">\n                <div class=\"setup-instructions\">\n                    <h3>Step 1: Create App Registration</h3>\n                    <ol>\n                        <li>Go to <a href=\"https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps/ApplicationsListBlade\" target=\"_blank\">Azure Portal → App registrations</a></li>\n                        <li>Click <strong>New registration</strong></li>\n                        <li>Name: <code>PIMBuddy Web</code></li>\n                        <li>Supported account types: <strong>Single tenant</strong></li>\n                        <li>Redirect URI: Select <strong>Single-page application (SPA)</strong> and enter:<br>\n                            <code class=\"copyable\" onclick=\"app.copyToClipboard('${redirectUri}')\">${redirectUri}</code>\n                        </li>\n                        <li>Click <strong>Register</strong></li>\n                    </ol>\n\n                    <h3>Step 2: Configure API Permissions</h3>\n                    <ol>\n                        <li>In your new app, go to <strong>API permissions</strong></li>\n                        <li>Click <strong>Add a permission</strong> → <strong>Microsoft Graph</strong> → <strong>Delegated permissions</strong></li>\n                        <li>Add these permissions:\n                            <ul class=\"permissions-list\">\n                                <li><code>User.Read</code></li>\n                                <li><code>Group.Read.All</code></li>\n                                <li><code>Group.ReadWrite.All</code></li>\n                                <li><code>RoleManagement.Read.Directory</code></li>\n                                <li><code>RoleManagement.ReadWrite.Directory</code></li>\n                                <li><code>PrivilegedAccess.Read.AzureADGroup</code></li>\n                                <li><code>PrivilegedAccess.ReadWrite.AzureADGroup</code></li>\n                                <li><code>PrivilegedEligibilitySchedule.Read.AzureADGroup</code></li>\n                                <li><code>PrivilegedEligibilitySchedule.ReadWrite.AzureADGroup</code></li>\n                                <li><code>PrivilegedAssignmentSchedule.Read.AzureADGroup</code></li>\n                                <li><code>PrivilegedAssignmentSchedule.ReadWrite.AzureADGroup</code></li>\n                            </ul>\n                        </li>\n                        <li>Click <strong>Grant admin consent</strong> (requires admin role)</li>\n                    </ol>\n\n                    <h3>Step 3: Copy IDs</h3>\n                    <ol>\n                        <li>Go to <strong>Overview</strong></li>\n                        <li>Copy the <strong>Application (client) ID</strong></li>\n                        <li>Copy the <strong>Directory (tenant) ID</strong></li>\n                        <li>Paste them in the <strong>Manual Setup</strong> tab</li>\n                    </ol>\n                </div>\n\n                <div class=\"modal-actions\">\n                    <button type=\"button\" class=\"btn btn-secondary\" onclick=\"app.closeModal()\">Close</button>\n                    <button type=\"button\" class=\"btn btn-primary\" onclick=\"app.switchSetupTab('manual')\">\n                        <i class=\"fas fa-arrow-left\"></i> Back to Setup\n                    </button>\n                </div>\n            </div>\n        `;\n\n        this.showModal(html);\n    }\n\n    switchSetupTab(tab) {\n        document.querySelectorAll('.setup-tab').forEach(t => t.classList.remove('active'));\n        document.querySelectorAll('.setup-tab-content').forEach(c => c.classList.remove('active'));\n\n        document.querySelector(`.setup-tab-content#setup-tab-${tab}`).classList.add('active');\n        event.currentTarget.classList.add('active');\n    }\n\n    copyToClipboard(text) {\n        navigator.clipboard.writeText(text).then(() => {\n            this.showToast('Copied to clipboard', 'success');\n        }).catch(() => {\n            this.showToast('Failed to copy', 'error');\n        });\n    }\n\n    async saveManualConfig(event) {\n        event.preventDefault();\n\n        const clientId = document.getElementById('client-id').value.trim();\n        const tenantId = document.getElementById('tenant-id').value.trim();\n        const resultDiv = document.getElementById('setup-result');\n\n        // Validate GUIDs\n        const guidRegex = /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;\n\n        if (!guidRegex.test(clientId)) {\n            resultDiv.innerHTML = `<div class=\"error-message\"><i class=\"fas fa-exclamation-circle\"></i><div>Invalid Client ID format. Must be a GUID.</div></div>`;\n            resultDiv.classList.remove('hidden');\n            return;\n        }\n\n        if (!guidRegex.test(tenantId)) {\n            resultDiv.innerHTML = `<div class=\"error-message\"><i class=\"fas fa-exclamation-circle\"></i><div>Invalid Tenant ID format. Must be a GUID.</div></div>`;\n            resultDiv.classList.remove('hidden');\n            return;\n        }\n\n        // Save configuration\n        const config = {\n            clientId,\n            tenantId,\n            createdAt: new Date().toISOString()\n        };\n\n        localStorage.setItem('pimbuddy-app-config', JSON.stringify(config));\n\n        // Update app state\n        this.isConfigured = true;\n\n        // Re-initialize auth service with new config\n        try {\n            await authService.reinitialize();\n\n            resultDiv.innerHTML = `\n                <div class=\"success-message\">\n                    <i class=\"fas fa-check-circle\"></i>\n                    <div>\n                        <strong>Configuration saved!</strong>\n                        <p>Click below to sign in.</p>\n                    </div>\n                </div>\n            `;\n            resultDiv.classList.remove('hidden');\n\n            // Update connect button text\n            document.getElementById('connect-text').textContent = 'Connect';\n            document.getElementById('connection-text').textContent = 'Not Connected';\n\n            // Auto-close and connect after a brief delay\n            setTimeout(async () => {\n                this.closeModal();\n                await this.handleConnect();\n            }, 1000);\n\n        } catch (error) {\n            resultDiv.innerHTML = `\n                <div class=\"error-message\">\n                    <i class=\"fas fa-exclamation-circle\"></i>\n                    <div>\n                        <strong>Configuration Error</strong>\n                        <p>${error.message}</p>\n                    </div>\n                </div>\n            `;\n            resultDiv.classList.remove('hidden');\n        }\n    }\n\n    async resetSetup() {\n        if (!confirm('This will clear the saved configuration. You will need to run setup again. Continue?')) {\n            return;\n        }\n\n        clearAppConfig();\n        this.isConfigured = false;\n\n        // Clear auth state\n        authService.msalInstance = null;\n        authService.account = null;\n        authService.initialized = false;\n\n        this.closeModal();\n        this.showToast('Configuration cleared', 'info');\n        this.showSetupRequired();\n        this.renderPage(this.currentPage);\n    }\n\n    // ==========================================\n    // Page Renderers\n    // ==========================================\n\n    renderLandingPage(container) {\n        container.innerHTML = `\n            <!-- Hero Section -->\n            <div style=\"text-align: center; padding: var(--space-xl) 0; max-width: 1200px; margin: 0 auto;\">\n                <div style=\"display: inline-flex; align-items: center; justify-content: center; width: 120px; height: 120px; background: linear-gradient(135deg, var(--accent-primary-dim), var(--accent-secondary-dim)); border-radius: 30px; margin-bottom: var(--space-lg); box-shadow: 0 20px 60px rgba(0, 212, 170, 0.3);\">\n                    <i class=\"fas fa-shield-alt\" style=\"font-size: 4rem; color: var(--accent-primary);\"></i>\n                </div>\n\n                <h1 style=\"font-family: var(--font-display); font-size: 3.5rem; font-weight: 800; margin-bottom: var(--space-md); background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;\">\n                    Welcome to PIMBuddy\n                </h1>\n\n                <p style=\"font-size: 1.3rem; color: var(--text-secondary); max-width: 700px; margin: 0 auto var(--space-xl);\">\n                    Your complete solution for Microsoft Entra PIM management. Deploy, monitor, and secure privileged access with enterprise-grade tools.\n                </p>\n\n                <button class=\"btn btn-primary\" onclick=\"document.getElementById('connect-btn').click()\" style=\"font-size: 1.1rem; padding: var(--space-md) var(--space-xl); box-shadow: 0 10px 30px rgba(0, 212, 170, 0.3);\">\n                    <i class=\"fas fa-plug\"></i> Connect to Get Started\n                </button>\n            </div>\n\n            <!-- Key Stats -->\n            <div class=\"stats-grid\" style=\"margin-bottom: var(--space-xl);\">\n                <div class=\"card stat-card\" style=\"border-color: var(--accent-primary-dim);\">\n                    <div class=\"stat-icon primary\">\n                        <i class=\"fas fa-tachometer-alt\"></i>\n                    </div>\n                    <div class=\"stat-value\">5</div>\n                    <div class=\"stat-label\">Monitoring Tools</div>\n                </div>\n                <div class=\"card stat-card\" style=\"border-color: var(--accent-secondary-dim);\">\n                    <div class=\"stat-icon secondary\">\n                        <i class=\"fas fa-rocket\"></i>\n                    </div>\n                    <div class=\"stat-value\">3</div>\n                    <div class=\"stat-label\">Baseline Templates</div>\n                </div>\n                <div class=\"card stat-card\" style=\"border-color: var(--color-success-dim);\">\n                    <div class=\"stat-icon success\">\n                        <i class=\"fas fa-shield-check\"></i>\n                    </div>\n                    <div class=\"stat-value\">100%</div>\n                    <div class=\"stat-label\">Zero Trust Ready</div>\n                </div>\n            </div>\n\n            <!-- Core Features -->\n            <h2 style=\"font-family: var(--font-display); font-size: 2rem; font-weight: 700; text-align: center; margin-bottom: var(--space-lg);\">\n                <i class=\"fas fa-stars\" style=\"color: var(--accent-primary);\"></i> Core Features\n            </h2>\n\n            <div class=\"dashboard-grid\" style=\"margin-bottom: var(--space-xl);\">\n                <!-- Baseline Deployment -->\n                <div class=\"card\" style=\"background: linear-gradient(135deg, var(--bg-elevated), var(--bg-surface)); border: 1px solid var(--accent-primary-dim);\">\n                    <div style=\"display: flex; align-items: center; gap: var(--space-md); margin-bottom: var(--space-md);\">\n                        <div style=\"width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; background: var(--accent-primary-dim); border-radius: var(--radius-lg);\">\n                            <i class=\"fas fa-rocket\" style=\"font-size: 1.8rem; color: var(--accent-primary);\"></i>\n                        </div>\n                        <div>\n                            <h3 style=\"font-size: 1.3rem; font-weight: 700; margin: 0;\">Baseline Deployment</h3>\n                            <p style=\"margin: 0; color: var(--text-secondary); font-size: 0.9rem;\">One-Click PIM Setup</p>\n                        </div>\n                    </div>\n                    <p style=\"color: var(--text-secondary); margin-bottom: var(--space-md);\">\n                        Deploy complete PIM configurations instantly with industry best practices. Choose from Enterprise Standard, High Security (Zero Trust), or Quick Start templates.\n                    </p>\n                    <div style=\"display: flex; flex-wrap: wrap; gap: var(--space-xs);\">\n                        <span class=\"badge badge-primary\"><i class=\"fas fa-check\"></i> Tiered Access (T0/T1/T2)</span>\n                        <span class=\"badge badge-success\"><i class=\"fas fa-check\"></i> MFA Required</span>\n                        <span class=\"badge badge-info\"><i class=\"fas fa-check\"></i> Approval Workflows</span>\n                        <span class=\"badge badge-warning\"><i class=\"fas fa-check\"></i> Auto-Configuration</span>\n                    </div>\n                </div>\n\n                <!-- PIM Health Check -->\n                <div class=\"card\" style=\"background: linear-gradient(135deg, var(--bg-elevated), var(--bg-surface)); border: 1px solid var(--color-success-dim);\">\n                    <div style=\"display: flex; align-items: center; gap: var(--space-md); margin-bottom: var(--space-md);\">\n                        <div style=\"width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; background: var(--color-success-dim); border-radius: var(--radius-lg);\">\n                            <i class=\"fas fa-heart-pulse\" style=\"font-size: 1.8rem; color: var(--color-success);\"></i>\n                        </div>\n                        <div>\n                            <h3 style=\"font-size: 1.3rem; font-weight: 700; margin: 0;\">Health Check Scanner</h3>\n                            <p style=\"margin: 0; color: var(--text-secondary); font-size: 0.9rem;\">Security Analysis</p>\n                        </div>\n                    </div>\n                    <p style=\"color: var(--text-secondary); margin-bottom: var(--space-md);\">\n                        Automated security scanner that analyzes your PIM configuration. Get a health score (0-100%) and actionable recommendations to improve security.\n                    </p>\n                    <div style=\"display: flex; flex-wrap: wrap; gap: var(--space-xs);\">\n                        <span class=\"badge badge-success\"><i class=\"fas fa-search\"></i> Auto-Scan</span>\n                        <span class=\"badge badge-primary\"><i class=\"fas fa-chart-line\"></i> Health Score</span>\n                        <span class=\"badge badge-warning\"><i class=\"fas fa-exclamation-triangle\"></i> Issue Detection</span>\n                        <span class=\"badge badge-info\"><i class=\"fas fa-lightbulb\"></i> Recommendations</span>\n                    </div>\n                </div>\n\n                <!-- Activity Monitoring -->\n                <div class=\"card\" style=\"background: linear-gradient(135deg, var(--bg-elevated), var(--bg-surface)); border: 1px solid var(--accent-secondary-dim);\">\n                    <div style=\"display: flex; align-items: center; gap: var(--space-md); margin-bottom: var(--space-md);\">\n                        <div style=\"width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; background: var(--accent-secondary-dim); border-radius: var(--radius-lg);\">\n                            <i class=\"fas fa-history\" style=\"font-size: 1.8rem; color: var(--accent-secondary);\"></i>\n                        </div>\n                        <div>\n                            <h3 style=\"font-size: 1.3rem; font-weight: 700; margin: 0;\">PIM Activity Log</h3>\n                            <p style=\"margin: 0; color: var(--text-secondary); font-size: 0.9rem;\">Audit & Compliance</p>\n                        </div>\n                    </div>\n                    <p style=\"color: var(--text-secondary); margin-bottom: var(--space-md);\">\n                        Complete audit trail of all PIM role management activities. Track who did what, when, and why with detailed activity logs and filtering.\n                    </p>\n                    <div style=\"display: flex; flex-wrap: wrap; gap: var(--space-xs);\">\n                        <span class=\"badge badge-secondary\"><i class=\"fas fa-calendar\"></i> 30-Day History</span>\n                        <span class=\"badge badge-info\"><i class=\"fas fa-filter\"></i> Advanced Filtering</span>\n                        <span class=\"badge badge-primary\"><i class=\"fas fa-download\"></i> Export Logs</span>\n                    </div>\n                </div>\n\n                <!-- Approval Management -->\n                <div class=\"card\" style=\"background: linear-gradient(135deg, var(--bg-elevated), var(--bg-surface)); border: 1px solid var(--color-warning-dim);\">\n                    <div style=\"display: flex; align-items: center; gap: var(--space-md); margin-bottom: var(--space-md);\">\n                        <div style=\"width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; background: var(--color-warning-dim); border-radius: var(--radius-lg);\">\n                            <i class=\"fas fa-clock\" style=\"font-size: 1.8rem; color: var(--color-warning);\"></i>\n                        </div>\n                        <div>\n                            <h3 style=\"font-size: 1.3rem; font-weight: 700; margin: 0;\">Pending Approvals</h3>\n                            <p style=\"margin: 0; color: var(--text-secondary); font-size: 0.9rem;\">Request Management</p>\n                        </div>\n                    </div>\n                    <p style=\"color: var(--text-secondary); margin-bottom: var(--space-md);\">\n                        Manage PIM activation requests in one place. Review justifications, approve or deny requests, and maintain compliance with one-click actions.\n                    </p>\n                    <div style=\"display: flex; flex-wrap: wrap; gap: var(--space-xs);\">\n                        <span class=\"badge badge-success\"><i class=\"fas fa-check\"></i> Quick Approve</span>\n                        <span class=\"badge badge-danger\"><i class=\"fas fa-times\"></i> Quick Deny</span>\n                        <span class=\"badge badge-info\"><i class=\"fas fa-comment\"></i> Justification View</span>\n                    </div>\n                </div>\n\n                <!-- Expiring Assignments -->\n                <div class=\"card\" style=\"background: linear-gradient(135deg, var(--bg-elevated), var(--bg-surface)); border: 1px solid rgba(245, 158, 11, 0.2);\">\n                    <div style=\"display: flex; align-items: center; gap: var(--space-md); margin-bottom: var(--space-md);\">\n                        <div style=\"width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; background: var(--color-warning-dim); border-radius: var(--radius-lg);\">\n                            <i class=\"fas fa-hourglass-end\" style=\"font-size: 1.8rem; color: var(--color-warning);\"></i>\n                        </div>\n                        <div>\n                            <h3 style=\"font-size: 1.3rem; font-weight: 700; margin: 0;\">Expiring Assignments</h3>\n                            <p style=\"margin: 0; color: var(--text-secondary); font-size: 0.9rem;\">Lifecycle Management</p>\n                        </div>\n                    </div>\n                    <p style=\"color: var(--text-secondary); margin-bottom: var(--space-md);\">\n                        Track role assignments expiring within 7 days. Proactive monitoring prevents access loss and ensures continuous operations.\n                    </p>\n                    <div style=\"display: flex; flex-wrap: wrap; gap: var(--space-xs);\">\n                        <span class=\"badge badge-warning\"><i class=\"fas fa-bell\"></i> 7-Day Alerts</span>\n                        <span class=\"badge badge-primary\"><i class=\"fas fa-clock\"></i> Time Remaining</span>\n                        <span class=\"badge badge-info\"><i class=\"fas fa-list\"></i> Full Tracking</span>\n                    </div>\n                </div>\n\n                <!-- Role Coverage -->\n                <div class=\"card\" style=\"background: linear-gradient(135deg, var(--bg-elevated), var(--bg-surface)); border: 1px solid rgba(59, 130, 246, 0.2);\">\n                    <div style=\"display: flex; align-items: center; gap: var(--space-md); margin-bottom: var(--space-md);\">\n                        <div style=\"width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; background: rgba(59, 130, 246, 0.15); border-radius: var(--radius-lg);\">\n                            <i class=\"fas fa-chart-pie\" style=\"font-size: 1.8rem; color: var(--color-info);\"></i>\n                        </div>\n                        <div>\n                            <h3 style=\"font-size: 1.3rem; font-weight: 700; margin: 0;\">Role Coverage Report</h3>\n                            <p style=\"margin: 0; color: var(--text-secondary); font-size: 0.9rem;\">Analytics Dashboard</p>\n                        </div>\n                    </div>\n                    <p style=\"color: var(--text-secondary); margin-bottom: var(--space-md);\">\n                        Analyze which roles are managed through PIM groups vs direct assignments. Visual reports help identify gaps and improve governance.\n                    </p>\n                    <div style=\"display: flex; flex-wrap: wrap; gap: var(--space-xs);\">\n                        <span class=\"badge badge-info\"><i class=\"fas fa-chart-pie\"></i> Visual Reports</span>\n                        <span class=\"badge badge-primary\"><i class=\"fas fa-percent\"></i> Coverage %</span>\n                        <span class=\"badge badge-warning\"><i class=\"fas fa-flag\"></i> Gap Analysis</span>\n                    </div>\n                </div>\n            </div>\n\n            <!-- Additional Features -->\n            <h2 style=\"font-family: var(--font-display); font-size: 2rem; font-weight: 700; text-align: center; margin-bottom: var(--space-lg);\">\n                <i class=\"fas fa-toolbox\" style=\"color: var(--accent-primary);\"></i> Additional Tools\n            </h2>\n\n            <div class=\"dashboard-grid\" style=\"margin-bottom: var(--space-xl);\">\n                <!-- PIMMaid -->\n                <div class=\"card\">\n                    <div style=\"display: flex; align-items: center; gap: var(--space-md); margin-bottom: var(--space-sm);\">\n                        <div class=\"stat-icon primary\">\n                            <i class=\"fas fa-project-diagram\"></i>\n                        </div>\n                        <h3 style=\"font-size: 1.2rem; font-weight: 700; margin: 0;\">PIMMaid Visualizer</h3>\n                    </div>\n                    <p style=\"color: var(--text-secondary); margin-bottom: var(--space-sm);\">\n                        Export your PIM configuration as beautiful Mermaid diagrams. Visualize relationships between users, groups, and roles.\n                    </p>\n                    <span class=\"badge badge-secondary\"><i class=\"fas fa-sitemap\"></i> Visual Diagrams</span>\n                </div>\n\n                <!-- Group Management -->\n                <div class=\"card\">\n                    <div style=\"display: flex; align-items: center; gap: var(--space-md); margin-bottom: var(--space-sm);\">\n                        <div class=\"stat-icon success\">\n                            <i class=\"fas fa-users\"></i>\n                        </div>\n                        <h3 style=\"font-size: 1.2rem; font-weight: 700; margin: 0;\">Group Management</h3>\n                    </div>\n                    <p style=\"color: var(--text-secondary); margin-bottom: var(--space-sm);\">\n                        Create and manage role-assignable security groups. Add/remove members with an intuitive interface.\n                    </p>\n                    <span class=\"badge badge-success\"><i class=\"fas fa-user-plus\"></i> Member Management</span>\n                </div>\n\n                <!-- Role Explorer -->\n                <div class=\"card\">\n                    <div style=\"display: flex; align-items: center; gap: var(--space-md); margin-bottom: var(--space-sm);\">\n                        <div class=\"stat-icon warning\">\n                            <i class=\"fas fa-user-shield\"></i>\n                        </div>\n                        <h3 style=\"font-size: 1.2rem; font-weight: 700; margin: 0;\">Entra Roles Explorer</h3>\n                    </div>\n                    <p style=\"color: var(--text-secondary); margin-bottom: var(--space-sm);\">\n                        Browse all Azure AD roles with privilege levels. Search, filter, and understand role permissions.\n                    </p>\n                    <span class=\"badge badge-warning\"><i class=\"fas fa-shield-alt\"></i> Privilege Levels</span>\n                </div>\n\n                <!-- Import/Export -->\n                <div class=\"card\">\n                    <div style=\"display: flex; align-items: center; gap: var(--space-md); margin-bottom: var(--space-sm);\">\n                        <div class=\"stat-icon info\">\n                            <i class=\"fas fa-file-export\"></i>\n                        </div>\n                        <h3 style=\"font-size: 1.2rem; font-weight: 700; margin: 0;\">Import/Export</h3>\n                    </div>\n                    <p style=\"color: var(--text-secondary); margin-bottom: var(--space-sm);\">\n                        Export configurations for backup or compliance. Import templates to replicate setups across tenants.\n                    </p>\n                    <span class=\"badge badge-info\"><i class=\"fas fa-download\"></i> Backup & Restore</span>\n                </div>\n            </div>\n\n            <!-- Call to Action -->\n            <div class=\"card\" style=\"background: linear-gradient(135deg, var(--accent-primary-dim), var(--accent-secondary-dim)); border: 2px solid var(--accent-primary); text-align: center; padding: var(--space-xl);\">\n                <h2 style=\"font-size: 2rem; font-weight: 800; margin-bottom: var(--space-md);\">\n                    Ready to Transform Your PIM Management?\n                </h2>\n                <p style=\"font-size: 1.1rem; color: var(--text-secondary); margin-bottom: var(--space-lg); max-width: 600px; margin-left: auto; margin-right: auto;\">\n                    Connect to your Microsoft Entra ID tenant and start managing privileged access with enterprise-grade tools in minutes.\n                </p>\n                <button class=\"btn btn-primary\" onclick=\"document.getElementById('connect-btn').click()\" style=\"font-size: 1.2rem; padding: var(--space-md) var(--space-xl); box-shadow: 0 10px 30px rgba(0, 212, 170, 0.4);\">\n                    <i class=\"fas fa-plug\"></i> Connect Now\n                </button>\n            </div>\n\n            <!-- Footer Info -->\n            <div style=\"text-align: center; margin-top: var(--space-xl); padding: var(--space-lg); color: var(--text-muted);\">\n                <p style=\"margin-bottom: var(--space-sm);\">\n                    <i class=\"fas fa-shield-check\" style=\"color: var(--accent-primary);\"></i>\n                    Built with enterprise security in mind\n                </p>\n                <p style=\"font-size: 0.9rem;\">\n                    PIMBuddy v1.0.0 | Powered by Microsoft Graph API | Zero Trust Ready\n                </p>\n            </div>\n        `;\n    }\n\n    sortRolesByPrivilege(roles, order) {\n        const privilegeOrder = { critical: 0, high: 1, medium: 2, low: 3 };\n\n        return [...roles].sort((a, b) => {\n            if (order === 'privilege-desc') {\n                return privilegeOrder[a.privilegeLevel] - privilegeOrder[b.privilegeLevel];\n            } else if (order === 'privilege-asc') {\n                return privilegeOrder[b.privilegeLevel] - privilegeOrder[a.privilegeLevel];\n            } else if (order === 'name-asc') {\n                return a.displayName.localeCompare(b.displayName);\n            } else if (order === 'name-desc') {\n                return b.displayName.localeCompare(a.displayName);\n            }\n            return 0;\n        });\n    }\n\n    sortRoles(order) {\n        // Toggle direction if clicking same column header\n        if (order === 'privilege') {\n            order = this.roleSortOrder === 'privilege-desc' ? 'privilege-asc' : 'privilege-desc';\n        } else if (order === 'name') {\n            order = this.roleSortOrder === 'name-asc' ? 'name-desc' : 'name-asc';\n        }\n\n        this.roleSortOrder = order;\n        this.renderPage('roles');\n    }\n\n\n    handleActivityPageChange(page) {\n        this.paginators.activity.goToPage(page);\n        this.renderPage('pim-activity');\n    }\n\n    handleActivityPageSizeChange(size) {\n        this.paginators.activity.setPageSize(size);\n        this.renderPage('pim-activity');\n    }\n\n    showGlobalSearch() {\n        this.showToast('Global search coming soon', 'info');\n    }\n\n    // Export methods\n\n    exportActivityToCSV() {\n        try {\n            const logs = this.paginators.activity.allItems || [];\n            if (logs.length === 0) {\n                this.showToast('No activity logs to export', 'warning');\n                return;\n            }\n\n            const filename = ExportUtils.generateFilename('pim-activity');\n            ExportUtils.exportToCSV(logs, filename, ExportConfigs.activity.columns);\n            this.showToast(`Exported ${logs.length} activity logs to CSV`, 'success');\n        } catch (error) {\n            this.showToast(`Export failed: ${error.message}`, 'error');\n        }\n    }\n\n    exportActivityToJSON() {\n        try {\n            const logs = this.paginators.activity.allItems || [];\n            if (logs.length === 0) {\n                this.showToast('No activity logs to export', 'warning');\n                return;\n            }\n\n            const filename = ExportUtils.generateFilename('pim-activity');\n            ExportUtils.exportToJSON(logs, filename);\n            this.showToast(`Exported ${logs.length} activity logs to JSON`, 'success');\n        } catch (error) {\n            this.showToast(`Export failed: ${error.message}`, 'error');\n        }\n    }\n\n    showExportMenu(type) {\n        const content = `\n            <div style=\"text-align: center; padding: var(--space-xl);\">\n                <div style=\"width: 80px; height: 80px; margin: 0 auto var(--space-lg); background: var(--accent-primary-dim); border-radius: 50%; display: flex; align-items: center; justify-content: center;\">\n                    <i class=\"fas fa-file-export\" style=\"font-size: 2.5rem; color: var(--accent-primary);\"></i>\n                </div>\n\n                <h2 style=\"font-family: var(--font-display); font-size: 1.5rem; font-weight: 800; margin-bottom: var(--space-md);\">\n                    Export ${type.charAt(0).toUpperCase() + type.slice(1)}\n                </h2>\n\n                <p style=\"font-family: var(--font-mono); font-size: 0.9rem; color: var(--text-secondary); margin-bottom: var(--space-xl);\">\n                    Choose your preferred export format\n                </p>\n\n                <div style=\"display: flex; flex-direction: column; gap: var(--space-md); max-width: 400px; margin: 0 auto;\">\n                    <button class=\"btn btn-primary\" onclick=\"app.export${type.charAt(0).toUpperCase() + type.slice(1)}ToCSV(); app.closeModal();\" style=\"justify-content: center; font-family: var(--font-mono); padding: var(--space-md);\">\n                        <i class=\"fas fa-file-csv\"></i> Export as CSV\n                        <span style=\"font-size: 0.75rem; opacity: 0.7; margin-left: auto;\">Spreadsheet compatible</span>\n                    </button>\n\n                    <button class=\"btn btn-secondary\" onclick=\"app.export${type.charAt(0).toUpperCase() + type.slice(1)}ToJSON(); app.closeModal();\" style=\"justify-content: center; font-family: var(--font-mono); padding: var(--space-md);\">\n                        <i class=\"fas fa-file-code\"></i> Export as JSON\n                        <span style=\"font-size: 0.75rem; opacity: 0.7; margin-left: auto;\">Developer friendly</span>\n                    </button>\n                </div>\n\n                <button class=\"btn btn-secondary btn-sm\" onclick=\"app.closeModal()\" style=\"margin-top: var(--space-xl); font-family: var(--font-mono);\">\n                    <i class=\"fas fa-times\"></i> Cancel\n                </button>\n            </div>\n        `;\n\n        this.showModal(content);\n    }\n\n\n    async applyTemplateToRole(roleId) {\n        const templates = templateService.getAllTemplates();\n\n        const html = `\n            <h2><i class=\"fas fa-copy\"></i> Apply Template to Role</h2>\n            <p>Select a template to apply its settings to this role's PIM policy.</p>\n\n            <div class=\"template-select-list\">\n                ${Object.values(templates).map(t => `\n                    <div class=\"template-select-item\" onclick=\"app.executeApplyTemplateToRole('${roleId}', '${t.id}')\">\n                        <div class=\"template-icon ${t.color || 'primary'}\">\n                            <i class=\"fas ${t.icon}\"></i>\n                        </div>\n                        <div class=\"template-info\">\n                            <strong>${this.escapeHtml(t.name)}</strong>\n                            <span>${t.settings.activation.maximumDurationHours}h | MFA: ${t.settings.activation.requireMfa ? 'Yes' : 'No'} | Approval: ${t.settings.activation.requireApproval ? 'Yes' : 'No'}</span>\n                        </div>\n                    </div>\n                `).join('')}\n            </div>\n\n            <div class=\"modal-actions\">\n                <button type=\"button\" class=\"btn btn-secondary\" onclick=\"app.closeModal()\">Cancel</button>\n            </div>\n        `;\n\n        this.showModal(html);\n    }\n\n    async executeApplyTemplateToRole(roleId, templateId) {\n        const template = templateService.getTemplate(templateId);\n        if (!template) {\n            this.showToast('Template not found', 'error');\n            return;\n        }\n\n        this.closeModal();\n        this.showLoading('Applying template...');\n\n        const result = await graphService.updateRolePolicy(roleId, {\n            maximumDurationHours: template.settings.activation.maximumDurationHours,\n            requireMfa: template.settings.activation.requireMfa,\n            requireJustification: template.settings.activation.requireJustification,\n            requireTicketInfo: template.settings.activation.requireTicketInfo,\n            requireApproval: template.settings.activation.requireApproval\n        });\n\n        this.hideLoading();\n\n        if (result.success) {\n            this.showToast('Template applied successfully', 'success');\n            // Refresh the policy view\n            const roleName = document.querySelector('.policy-editor h2')?.textContent;\n            if (roleName) {\n                await this.selectRoleForPolicy(roleId, roleName);\n            }\n        } else {\n            this.showToast(result.error, 'error');\n        }\n    }\n\n\n    exportConfig() {\n        this.showToast('Export coming soon', 'info');\n    }\n\n    handleImport(files) {\n        if (files.length > 0) {\n            this.showToast(`Selected file: ${files[0].name}`, 'info');\n        }\n    }\n\n    // ==========================================\n    // UI Helpers\n    // ==========================================\n\n    showLoading(text = 'Loading...') {\n        document.getElementById('loading-text').textContent = text;\n        document.getElementById('loading-overlay').classList.remove('hidden');\n\n        // Announce loading state for screen readers\n        accessibilityManager.announceLoading(true, text);\n    }\n\n    hideLoading() {\n        document.getElementById('loading-overlay').classList.add('hidden');\n\n        // Announce loading complete for screen readers\n        accessibilityManager.announceLoading(false);\n    }\n\n    showToast(message, type = 'info') {\n        const container = document.getElementById('toast-container');\n        const toast = document.createElement('div');\n        toast.className = `toast toast-${type}`;\n        toast.innerHTML = `\n            <i class=\"fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}\"></i>\n            <span>${this.escapeHtml(message)}</span>\n        `;\n        container.appendChild(toast);\n\n        setTimeout(() => {\n            toast.classList.add('fade-out');\n            setTimeout(() => toast.remove(), 300);\n        }, 3000);\n    }\n\n    showModal(content) {\n        document.getElementById('modal-content').innerHTML = content;\n        document.getElementById('modal-container').classList.remove('hidden');\n    }\n\n    closeModal() {\n        document.getElementById('modal-container').classList.add('hidden');\n    }\n\n    // ==========================================\n    // New Feature Pages\n    // ==========================================\n\n\n    toggleTheme() {\n        this.isDarkMode = !this.isDarkMode;\n        this.applyTheme();\n        localStorage.setItem('pimbuddy-theme', this.isDarkMode ? 'dark' : 'light');\n    }\n\n    setTheme(theme) {\n        this.isDarkMode = theme === 'dark';\n        this.applyTheme();\n        localStorage.setItem('pimbuddy-theme', theme);\n    }\n\n    loadTheme() {\n        const saved = localStorage.getItem('pimbuddy-theme');\n        // Default to dark mode if no preference saved\n        this.isDarkMode = saved !== 'light';\n        this.applyTheme();\n    }\n\n    applyTheme() {\n        document.body.classList.toggle('dark-mode', this.isDarkMode);\n        const icon = document.querySelector('#theme-toggle i');\n        if (icon) {\n            icon.className = this.isDarkMode ? 'fas fa-sun' : 'fas fa-moon';\n        }\n    }\n\n    /**\n     * Escape HTML to prevent XSS (delegates to SecurityUtils)\n     */\n    escapeHtml(text) {\n        return SecurityUtils.escapeHtml(text);\n    }\n}\n\n// Initialize app\nconst app = new PIMBuddyApp();\nwindow.app = app; // Make available globally for onclick handlers\napp.init();\n"],"names":["PIMBuddyApp","Paginator","PAGINATION","BulkOperationsManager","ExportUtils","CacheManager","DashboardPage","GroupsPage","RolesPage","ActivityPage","ApprovalsPage","ExpiringPage","HealthCheckPage","CoveragePage","PimmaidPage","BaselinePage","PoliciesPage","TemplatesPage","ExportPage","SettingsPage","ActivationsPage","PageRouter","accessibilityManager","isAppConfigured","authService","error","item","e","page","result","account","sessionManager","remainingMinutes","params","savedConfig","getSavedAppConfig","redirectUri","html","tab","t","c","text","event","clientId","tenantId","resultDiv","guidRegex","config","clearAppConfig","container","roles","order","privilegeOrder","a","b","size","logs","filename","ExportConfigs","type","content","roleId","templates","templateService","templateId","template","graphService","roleName","files","message","toast","theme","saved","icon","SecurityUtils","app"],"mappings":"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A;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA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"}