{"version":3,"file":"page-coveragepage-Bn2Weqhu.js","sources":["../../src/pages/CoveragePage.js"],"sourcesContent":["/**\n * Role Coverage Page\n * PIM group coverage vs direct role assignments analysis\n */\n\nimport { BasePage } from '../core/PageRouter.js';\nimport { graphService } from '../services/graphService.js';\nimport { CACHE_KEYS } from '../core/CacheManager.js';\n\nexport class CoveragePage extends BasePage {\n    constructor(app) {\n        super(app);\n    }\n\n    /**\n     * Render Role Coverage page\n     * @param {HTMLElement} container - Page container\n     * @param {Object} params - Optional parameters\n     */\n    async render(container, params = {}) {\n        let coverageData = null;\n\n        if (this.isConnected()) {\n            this.showLoading('Generating coverage report...');\n\n            // Try cache first\n            const cached = this.getCached(CACHE_KEYS.COVERAGE.key);\n\n            if (cached) {\n                coverageData = cached;\n            } else {\n                const result = await graphService.getRoleCoverageReport();\n                if (result.success) {\n                    coverageData = result;\n                    this.setCached(CACHE_KEYS.COVERAGE.key, coverageData);\n                } else {\n                    this.showToast(`Failed to generate coverage report: ${result.error}`, 'error');\n                }\n            }\n\n            this.hideLoading();\n        }\n\n        const calculatePercentage = (part, total) => {\n            if (total === 0) return 0;\n            return Math.round((part / total) * 100);\n        };\n\n        container.innerHTML = `\n            <!-- Dramatic Page Header -->\n            <div style=\"position: relative; margin-bottom: var(--space-2xl); overflow: hidden;\">\n                <div style=\"position: absolute; top: -50%; right: -5%; width: 300px; height: 300px; background: radial-gradient(circle, var(--accent-primary-dim), transparent); filter: blur(80px); animation: float 13s ease-in-out infinite; pointer-events: none;\"></div>\n                <div style=\"position: relative; z-index: 1;\">\n                    <div style=\"display: inline-flex; align-items: center; gap: var(--space-xs); padding: var(--space-xs) var(--space-md); background: rgba(0, 255, 159, 0.05); border: 1px solid var(--accent-primary); border-radius: var(--radius-full); margin-bottom: var(--space-md); font-family: var(--font-mono); font-size: 0.65rem; text-transform: uppercase; letter-spacing: 0.15em;\">\n                        <i class=\"fas fa-chart-line\" style=\"color: var(--accent-primary); font-size: 0.7rem;\"></i>\n                        <span style=\"color: var(--accent-primary); font-weight: 600;\">ANALYTICS</span>\n                        <span style=\"color: var(--text-muted);\">|</span>\n                        <span style=\"color: var(--text-secondary);\">COVERAGE ANALYSIS</span>\n                    </div>\n                    <h1 style=\"font-family: var(--font-display); font-size: clamp(2rem, 4vw, 3rem); font-weight: 800; line-height: 1.1; margin-bottom: var(--space-sm); letter-spacing: -0.03em;\">\n                        <span style=\"background: linear-gradient(135deg, var(--accent-primary), #00ffff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; filter: drop-shadow(0 0 30px rgba(0, 255, 159, 0.3));\">\n                            ROLE\n                        </span>\n                        <span style=\"color: var(--text-primary);\"> COVERAGE</span>\n                    </h1>\n                    <p style=\"font-size: 0.95rem; color: var(--text-secondary); font-family: var(--font-mono);\">\n                        PIM group coverage vs direct role assignments analysis\n                    </p>\n                </div>\n            </div>\n\n            ${coverageData ? `\n                <!-- Summary Cards with Enhanced Design -->\n                <div class=\"stats-grid\" style=\"margin-bottom: var(--space-2xl);\">\n                    <div class=\"card stat-card\" style=\"position: relative; overflow: hidden;\">\n                        <div style=\"position: absolute; top: 50%; right: -20%; width: 150px; height: 150px; background: radial-gradient(circle, var(--accent-primary-dim), transparent); filter: blur(40px); pointer-events: none;\"></div>\n                        <div style=\"position: relative; z-index: 1;\">\n                            <div style=\"width: 56px; height: 56px; background: var(--accent-primary-dim); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center; margin-bottom: var(--space-md);\">\n                                <i class=\"fas fa-shield-check\" style=\"font-size: 1.5rem; color: var(--accent-primary);\"></i>\n                            </div>\n                            <div style=\"font-family: var(--font-display); font-size: 2.5rem; font-weight: 800; line-height: 1; margin-bottom: var(--space-xs); color: var(--text-primary);\">\n                                ${coverageData.totalRoles}\n                            </div>\n                            <div style=\"font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.1em; color: var(--text-secondary); font-family: var(--font-mono);\">TOTAL ROLES</div>\n                        </div>\n                    </div>\n\n                    <div class=\"card stat-card\" style=\"position: relative; overflow: hidden;\">\n                        <div style=\"position: absolute; top: 50%; right: -20%; width: 150px; height: 150px; background: radial-gradient(circle, var(--color-success-dim), transparent); filter: blur(40px); pointer-events: none;\"></div>\n                        <div style=\"position: relative; z-index: 1;\">\n                            <div style=\"width: 56px; height: 56px; background: var(--color-success-dim); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center; margin-bottom: var(--space-md);\">\n                                <i class=\"fas fa-users\" style=\"font-size: 1.5rem; color: var(--color-success);\"></i>\n                            </div>\n                            <div style=\"font-family: var(--font-display); font-size: 2.5rem; font-weight: 800; line-height: 1; margin-bottom: var(--space-xs); color: var(--text-primary);\">\n                                ${coverageData.totalPIMGroups}\n                            </div>\n                            <div style=\"font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.1em; color: var(--text-secondary); font-family: var(--font-mono);\">PIM GROUPS</div>\n                        </div>\n                    </div>\n\n                    <div class=\"card stat-card\" style=\"position: relative; overflow: hidden;\">\n                        <div style=\"position: absolute; top: 50%; right: -20%; width: 150px; height: 150px; background: radial-gradient(circle, var(--accent-secondary-dim), transparent); filter: blur(40px); pointer-events: none;\"></div>\n                        <div style=\"position: relative; z-index: 1;\">\n                            <div style=\"width: 56px; height: 56px; background: var(--accent-secondary-dim); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center; margin-bottom: var(--space-md);\">\n                                <i class=\"fas fa-check-double\" style=\"font-size: 1.5rem; color: var(--accent-secondary);\"></i>\n                            </div>\n                            <div style=\"font-family: var(--font-display); font-size: 2.5rem; font-weight: 800; line-height: 1; margin-bottom: var(--space-xs); color: var(--text-primary);\">\n                                ${coverageData.coveredRoles}\n                            </div>\n                            <div style=\"font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.1em; color: var(--text-secondary); font-family: var(--font-mono);\">COVERED</div>\n                        </div>\n                    </div>\n\n                    <div class=\"card stat-card\" style=\"position: relative; overflow: hidden; ${coverageData.directUserAssignmentsCount > 0 ? 'border: 1px solid var(--color-warning);' : ''}\">\n                        <div style=\"position: absolute; top: 50%; right: -20%; width: 150px; height: 150px; background: radial-gradient(circle, ${coverageData.directUserAssignmentsCount > 0 ? 'var(--color-warning-dim)' : 'var(--bg-elevated)'}, transparent); filter: blur(40px); pointer-events: none;\"></div>\n                        <div style=\"position: relative; z-index: 1;\">\n                            <div style=\"width: 56px; height: 56px; background: ${coverageData.directUserAssignmentsCount > 0 ? 'var(--color-warning-dim)' : 'var(--bg-elevated)'}; border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center; margin-bottom: var(--space-md);\">\n                                <i class=\"fas fa-user\" style=\"font-size: 1.5rem; color: ${coverageData.directUserAssignmentsCount > 0 ? 'var(--color-warning)' : 'var(--text-muted)'};\"></i>\n                            </div>\n                            <div style=\"font-family: var(--font-display); font-size: 2.5rem; font-weight: 800; line-height: 1; margin-bottom: var(--space-xs); color: ${coverageData.directUserAssignmentsCount > 0 ? 'var(--color-warning)' : 'var(--text-primary)'};\">\n                                ${coverageData.directUserAssignmentsCount}\n                            </div>\n                            <div style=\"font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.1em; color: var(--text-secondary); font-family: var(--font-mono);\">DIRECT ONLY</div>\n                        </div>\n                    </div>\n                </div>\n\n                <!-- Coverage Chart & Details -->\n                <div class=\"dashboard-grid\">\n                    <!-- Coverage Pie Chart -->\n                    <div class=\"card\" style=\"position: relative; overflow: hidden; background: linear-gradient(135deg, var(--bg-elevated), var(--bg-surface)); border: 1px solid var(--border-subtle);\">\n                        <div style=\"position: absolute; top: 0; left: 0; width: 300px; height: 300px; background: radial-gradient(circle, var(--accent-primary-dim), transparent); filter: blur(80px); pointer-events: none;\"></div>\n                        <div style=\"position: relative; z-index: 1;\">\n                            <div style=\"display: flex; align-items: center; gap: var(--space-md); padding: var(--space-lg); border-bottom: 1px solid var(--border-subtle);\">\n                                <div style=\"width: 48px; height: 48px; background: var(--accent-primary-dim); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center;\">\n                                    <i class=\"fas fa-chart-pie\" style=\"color: var(--accent-primary); font-size: 1.3rem;\"></i>\n                                </div>\n                                <h2 style=\"font-family: var(--font-display); font-size: 1.4rem; font-weight: 700; margin: 0; text-transform: uppercase; letter-spacing: 0.05em;\">\n                                    Coverage Overview\n                                </h2>\n                            </div>\n                            <div style=\"padding: var(--space-2xl); text-align: center;\">\n                                <!-- Pie Chart -->\n                                <div style=\"max-width: 220px; margin: 0 auto var(--space-xl); position: relative;\">\n                                    <div style=\"background: conic-gradient(\n                                        var(--accent-primary) 0deg ${calculatePercentage(coverageData.coveredRoles, coverageData.totalRoles) * 3.6}deg,\n                                        var(--color-error) ${calculatePercentage(coverageData.coveredRoles, coverageData.totalRoles) * 3.6}deg 360deg\n                                    ); width: 220px; height: 220px; border-radius: 50%; box-shadow: 0 0 60px rgba(0, 255, 159, 0.3);\"></div>\n                                    <!-- Center Circle with Percentage -->\n                                    <div style=\"position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 140px; height: 140px; background: var(--bg-base); border-radius: 50%; display: flex; flex-direction: column; align-items: center; justify-content: center; border: 3px solid var(--bg-elevated);\">\n                                        <div style=\"font-family: var(--font-display); font-size: 2.5rem; font-weight: 900; line-height: 1; background: linear-gradient(135deg, var(--accent-primary), #00ffff); -webkit-background-clip: text; -webkit-text-fill-color: transparent;\">\n                                            ${calculatePercentage(coverageData.coveredRoles, coverageData.totalRoles)}\n                                        </div>\n                                        <div style=\"font-family: var(--font-mono); font-size: 0.9rem; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.15em; margin-top: 4px;\">\n                                            %\n                                        </div>\n                                    </div>\n                                </div>\n                                <!-- Legend -->\n                                <div style=\"display: flex; flex-direction: column; gap: var(--space-md); max-width: 280px; margin: 0 auto;\">\n                                    <div style=\"display: flex; align-items: center; justify-content: space-between; padding: var(--space-sm) var(--space-md); background: rgba(0, 255, 159, 0.05); border-left: 3px solid var(--accent-primary); border-radius: var(--radius-sm);\">\n                                        <div style=\"display: flex; align-items: center; gap: var(--space-sm);\">\n                                            <div style=\"width: 14px; height: 14px; background: var(--accent-primary); border-radius: 50%; box-shadow: 0 0 10px rgba(0, 255, 159, 0.5);\"></div>\n                                            <span style=\"font-family: var(--font-mono); font-size: 0.85rem; color: var(--text-primary);\">Covered</span>\n                                        </div>\n                                        <span style=\"font-family: var(--font-display); font-weight: 700; color: var(--accent-primary);\">\n                                            ${calculatePercentage(coverageData.coveredRoles, coverageData.totalRoles)}%\n                                        </span>\n                                    </div>\n                                    <div style=\"display: flex; align-items: center; justify-content: space-between; padding: var(--space-sm) var(--space-md); background: rgba(255, 0, 85, 0.05); border-left: 3px solid var(--color-error); border-radius: var(--radius-sm);\">\n                                        <div style=\"display: flex; align-items: center; gap: var(--space-sm);\">\n                                            <div style=\"width: 14px; height: 14px; background: var(--color-error); border-radius: 50%; box-shadow: 0 0 10px rgba(255, 0, 85, 0.5);\"></div>\n                                            <span style=\"font-family: var(--font-mono); font-size: 0.85rem; color: var(--text-primary);\">Uncovered</span>\n                                        </div>\n                                        <span style=\"font-family: var(--font-display); font-weight: 700; color: var(--color-error);\">\n                                            ${calculatePercentage(coverageData.uncoveredRoles, coverageData.totalRoles)}%\n                                        </span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- Recommendations -->\n                    <div class=\"card\" style=\"position: relative; overflow: hidden; background: linear-gradient(135deg, var(--bg-elevated), var(--bg-surface)); border: 1px solid ${coverageData.uncoveredRoles > 0 || coverageData.directUserAssignmentsCount > 0 ? 'var(--color-warning)' : 'var(--accent-primary)'};\">\n                        <div style=\"position: absolute; top: 0; right: 0; width: 300px; height: 300px; background: radial-gradient(circle, ${coverageData.uncoveredRoles > 0 || coverageData.directUserAssignmentsCount > 0 ? 'var(--color-warning-dim)' : 'var(--accent-primary-dim)'}, transparent); filter: blur(80px); pointer-events: none;\"></div>\n                        <div style=\"position: relative; z-index: 1;\">\n                            <div style=\"display: flex; align-items: center; gap: var(--space-md); padding: var(--space-lg); border-bottom: 1px solid var(--border-subtle);\">\n                                <div style=\"width: 48px; height: 48px; background: ${coverageData.uncoveredRoles === 0 && coverageData.directUserAssignmentsCount === 0 ? 'var(--accent-primary-dim)' : 'var(--color-warning-dim)'}; border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center;\">\n                                    <i class=\"fas ${coverageData.uncoveredRoles === 0 && coverageData.directUserAssignmentsCount === 0 ? 'fa-check-circle' : 'fa-lightbulb'}\" style=\"color: ${coverageData.uncoveredRoles === 0 && coverageData.directUserAssignmentsCount === 0 ? 'var(--accent-primary)' : 'var(--color-warning)'}; font-size: 1.3rem;\"></i>\n                                </div>\n                                <h2 style=\"font-family: var(--font-display); font-size: 1.4rem; font-weight: 700; margin: 0; text-transform: uppercase; letter-spacing: 0.05em;\">\n                                    Recommendations\n                                </h2>\n                            </div>\n                            <div style=\"padding: var(--space-md);\">\n                                ${coverageData.uncoveredRoles > 0 ? `\n                                    <div style=\"background: rgba(255, 170, 0, 0.05); border-left: 3px solid var(--color-warning); border-radius: var(--radius-sm); padding: var(--space-md); margin-bottom: var(--space-sm);\" role=\"alert\">\n                                        <div style=\"display: flex; align-items: start; gap: var(--space-sm);\">\n                                            <i class=\"fas fa-exclamation-triangle\" style=\"color: var(--color-warning); margin-top: 2px; font-size: 1.1rem;\" aria-hidden=\"true\"></i>\n                                            <div style=\"flex: 1;\">\n                                                <div style=\"font-weight: 700; font-family: var(--font-mono); font-size: 0.8rem; text-transform: uppercase; color: var(--color-warning); margin-bottom: var(--space-xs);\">\n                                                    IMPROVE COVERAGE\n                                                </div>\n                                                <div style=\"color: var(--text-secondary); line-height: 1.5; font-size: 0.9rem;\">\n                                                    ${coverageData.uncoveredRoles} roles are managed through direct user assignments. Consider creating PIM groups for better management and audit trails.\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                ` : ''}\n                                ${coverageData.directUserAssignmentsCount > 0 ? `\n                                    <div style=\"background: rgba(59, 130, 246, 0.05); border-left: 3px solid var(--color-info); border-radius: var(--radius-sm); padding: var(--space-md); margin-bottom: var(--space-sm);\" role=\"alert\">\n                                        <div style=\"display: flex; align-items: start; gap: var(--space-sm);\">\n                                            <i class=\"fas fa-users\" style=\"color: var(--color-info); margin-top: 2px; font-size: 1.1rem;\" aria-hidden=\"true\"></i>\n                                            <div style=\"flex: 1;\">\n                                                <div style=\"font-weight: 700; font-family: var(--font-mono); font-size: 0.8rem; text-transform: uppercase; color: var(--color-info); margin-bottom: var(--space-xs);\">\n                                                    DIRECT ASSIGNMENTS DETECTED\n                                                </div>\n                                                <div style=\"color: var(--text-secondary); line-height: 1.5; font-size: 0.9rem;\">\n                                                    ${coverageData.directUserAssignmentsCount} direct user assignments found. Using PIM groups provides better access control and compliance.\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                ` : ''}\n                                ${coverageData.uncoveredRoles === 0 && coverageData.directUserAssignmentsCount === 0 ? `\n                                    <div style=\"text-align: center; padding: var(--space-xl);\">\n                                        <div style=\"width: 80px; height: 80px; margin: 0 auto var(--space-md); background: var(--accent-primary-dim); border-radius: 50%; display: flex; align-items: center; justify-content: center;\">\n                                            <i class=\"fas fa-trophy\" style=\"font-size: 2.5rem; color: var(--accent-primary);\"></i>\n                                        </div>\n                                        <div style=\"font-family: var(--font-display); font-size: 1.2rem; font-weight: 700; margin-bottom: var(--space-xs); color: var(--text-primary);\">\n                                            Perfect Coverage!\n                                        </div>\n                                        <div style=\"font-family: var(--font-mono); font-size: 0.85rem; color: var(--text-secondary);\">\n                                            All roles are properly managed through PIM groups\n                                        </div>\n                                    </div>\n                                ` : ''}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <!-- Detailed Roles Table -->\n                <div class=\"card\" style=\"position: relative; overflow: hidden; background: linear-gradient(135deg, var(--bg-elevated), var(--bg-surface)); border: 1px solid var(--border-subtle); margin-top: var(--space-lg);\">\n                    <div style=\"position: absolute; bottom: 0; right: 0; width: 400px; height: 400px; background: radial-gradient(circle, var(--accent-secondary-dim), transparent); filter: blur(100px); pointer-events: none;\"></div>\n                    <div style=\"position: relative; z-index: 1;\">\n                        <div style=\"display: flex; align-items: center; gap: var(--space-md); padding: var(--space-lg); border-bottom: 1px solid var(--border-subtle);\">\n                            <div style=\"width: 48px; height: 48px; background: var(--accent-secondary-dim); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center;\">\n                                <i class=\"fas fa-table\" style=\"color: var(--accent-secondary); font-size: 1.3rem;\"></i>\n                            </div>\n                            <div>\n                                <h2 style=\"font-family: var(--font-display); font-size: 1.4rem; font-weight: 700; margin: 0; text-transform: uppercase; letter-spacing: 0.05em;\">\n                                    Detailed Analysis\n                                </h2>\n                                <div style=\"font-family: var(--font-mono); font-size: 0.75rem; color: var(--text-secondary); margin-top: 2px;\">\n                                    Role-by-role coverage breakdown\n                                </div>\n                            </div>\n                        </div>\n                        <div style=\"overflow-x: auto;\">\n                            <table class=\"table\" style=\"margin: 0;\">\n                                <thead>\n                                    <tr style=\"background: rgba(0, 0, 0, 0.3);\">\n                                        <th style=\"font-family: var(--font-mono); font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.1em;\">Role Name</th>\n                                        <th style=\"font-family: var(--font-mono); font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.1em;\">Group Assignments</th>\n                                        <th style=\"font-family: var(--font-mono); font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.1em;\">Direct Assignments</th>\n                                        <th style=\"font-family: var(--font-mono); font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.1em;\">Status</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    ${coverageData.roles.map((role, idx) => `\n                                        <tr style=\"border-bottom: 1px solid var(--border-subtle); background: ${idx % 2 === 0 ? 'rgba(255, 0, 128, 0.02)' : 'transparent'};\">\n                                            <td style=\"font-weight: 600; font-size: 0.9rem; color: var(--text-primary);\">\n                                                ${this.escapeHtml(role.roleName)}\n                                            </td>\n                                            <td>\n                                                <span style=\"font-family: var(--font-mono); font-size: 0.9rem; font-weight: 600; color: ${role.groupCount > 0 ? 'var(--accent-primary)' : 'var(--text-muted)'};\">\n                                                    ${role.groupCount}\n                                                </span>\n                                            </td>\n                                            <td>\n                                                <span style=\"font-family: var(--font-mono); font-size: 0.9rem; font-weight: 600; color: ${role.userCount > 0 ? 'var(--color-warning)' : 'var(--text-muted)'};\">\n                                                    ${role.userCount}\n                                                </span>\n                                            </td>\n                                            <td>\n                                                <span class=\"badge\" style=\"background: ${role.isCovered ? 'var(--color-success-dim)' : 'var(--color-warning-dim)'}; color: ${role.isCovered ? 'var(--color-success)' : 'var(--color-warning)'}; font-family: var(--font-mono); font-size: 0.7rem; text-transform: uppercase; font-weight: 700;\">\n                                                    ${role.isCovered ? '✓ COVERED' : '⚠ DIRECT ONLY'}\n                                                </span>\n                                            </td>\n                                        </tr>\n                                    `).join('')}\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n            ` : `\n                <div class=\"card\" style=\"position: relative; overflow: hidden; background: linear-gradient(135deg, var(--bg-elevated), var(--bg-surface)); border: 1px solid var(--accent-primary);\">\n                    <div style=\"position: absolute; inset: 0; background: radial-gradient(circle at center, var(--accent-primary-dim), transparent); filter: blur(80px); pointer-events: none;\"></div>\n                    <div style=\"position: relative; z-index: 1; text-align: center; padding: var(--space-2xl);\">\n                        <div style=\"width: 150px; height: 150px; margin: 0 auto var(--space-xl); background: var(--accent-primary-dim); border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 0 60px rgba(0, 255, 159, 0.3);\">\n                            <i class=\"fas fa-chart-pie\" style=\"font-size: 4.5rem; color: var(--accent-primary);\"></i>\n                        </div>\n                        <h2 style=\"font-family: var(--font-display); font-size: 2rem; font-weight: 800; margin-bottom: var(--space-md); text-transform: uppercase; letter-spacing: 0.05em;\">\n                            <span style=\"background: linear-gradient(135deg, var(--accent-primary), #00ffff); -webkit-background-clip: text; -webkit-text-fill-color: transparent;\">\n                                ANALYTICS READY\n                            </span>\n                        </h2>\n                        <p style=\"color: var(--text-secondary); font-family: var(--font-mono); font-size: 0.95rem; margin-bottom: var(--space-xl); max-width: 500px; margin-left: auto; margin-right: auto;\">\n                            ${this.isConnected() ? 'Generating comprehensive coverage analysis across all PIM roles and assignments' : 'Connect to Microsoft Entra ID to view role coverage analytics'}\n                        </p>\n                        ${this.isConnected() ? `\n                            <div style=\"display: inline-flex; align-items: center; gap: var(--space-sm); padding: var(--space-sm) var(--space-md); background: rgba(0, 255, 159, 0.1); border-radius: var(--radius-full); font-family: var(--font-mono); font-size: 0.8rem; color: var(--accent-primary);\">\n                                <div class=\"spinner\" style=\"width: 16px; height: 16px;\"></div>\n                                <span>Loading data...</span>\n                            </div>\n                        ` : ''}\n                    </div>\n                </div>\n            `}\n        `;\n    }\n\n    /**\n     * Refresh page data\n     */\n    async refreshPage() {\n        this.app.cacheManager.invalidate(CACHE_KEYS.COVERAGE.key);\n        await this.app.router.refreshCurrentPage();\n    }\n}\n"],"names":["CoveragePage","BasePage","app","container","params","coverageData","cached","CACHE_KEYS","result","graphService","calculatePercentage","part","total","role","idx"],"mappings":"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"}