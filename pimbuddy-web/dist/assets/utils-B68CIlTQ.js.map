{"version":3,"file":"utils-B68CIlTQ.js","sources":["../../src/utils/security.js","../../src/utils/constants.js","../../src/utils/pagination.js","../../src/utils/export.js","../../src/utils/bulkOperations.js","../../src/utils/uiComponents.js"],"sourcesContent":["/**\n * Security Utilities for PIMBuddy\n * Handles input validation, XSS protection, and OData query sanitization\n */\n\nexport class SecurityUtils {\n    /**\n     * Encode OData filter values to prevent injection\n     * @param {string} value - Raw user input\n     * @returns {string} - Safely encoded value\n     */\n    static encodeODataFilter(value) {\n        if (!value) return '';\n\n        // Encode single quotes and other special OData characters\n        return value\n            .replace(/'/g, \"''\")  // Escape single quotes\n            .replace(/\\\\/g, '\\\\\\\\')  // Escape backslashes\n            .replace(/\\$/g, '\\\\$')   // Escape dollar signs\n            .replace(/\\(/g, '\\\\(')   // Escape parentheses\n            .replace(/\\)/g, '\\\\)');\n    }\n\n    /**\n     * Build safe OData filter query\n     * @param {string} field - Field name\n     * @param {string} operator - OData operator (eq, ne, startswith, contains, etc.)\n     * @param {string} value - User input value\n     * @returns {string} - Safe OData filter string\n     */\n    static buildODataFilter(field, operator, value) {\n        const safeValue = this.encodeODataFilter(value);\n\n        // Validate operator against whitelist\n        const validOperators = ['eq', 'ne', 'gt', 'ge', 'lt', 'le', 'startswith', 'endswith', 'contains'];\n        if (!validOperators.includes(operator.toLowerCase())) {\n            throw new Error(`Invalid OData operator: ${operator}`);\n        }\n\n        // Build filter based on operator type\n        if (['startswith', 'endswith', 'contains'].includes(operator.toLowerCase())) {\n            return `${operator}(${field},'${safeValue}')`;\n        } else {\n            return `${field} ${operator} '${safeValue}'`;\n        }\n    }\n\n    /**\n     * Comprehensive HTML escaping to prevent XSS\n     * @param {string} text - Raw text to escape\n     * @returns {string} - HTML-safe text\n     */\n    static escapeHtml(text) {\n        if (text === null || text === undefined) return '';\n        if (typeof text !== 'string') text = String(text);\n\n        const div = document.createElement('div');\n        div.textContent = text;\n        return div.innerHTML;\n    }\n\n    /**\n     * Escape HTML attributes\n     * @param {string} text - Raw text\n     * @returns {string} - Attribute-safe text\n     */\n    static escapeHtmlAttribute(text) {\n        if (text === null || text === undefined) return '';\n        if (typeof text !== 'string') text = String(text);\n\n        return text\n            .replace(/&/g, '&amp;')\n            .replace(/'/g, '&#39;')\n            .replace(/\"/g, '&quot;')\n            .replace(/</g, '&lt;')\n            .replace(/>/g, '&gt;');\n    }\n\n    /**\n     * Sanitize URL to prevent javascript: protocol injection\n     * @param {string} url - Raw URL\n     * @returns {string} - Safe URL or empty string\n     */\n    static sanitizeUrl(url) {\n        if (!url) return '';\n\n        const trimmed = url.trim().toLowerCase();\n\n        // Block dangerous protocols\n        const dangerousProtocols = ['javascript:', 'data:', 'vbscript:', 'file:'];\n        if (dangerousProtocols.some(proto => trimmed.startsWith(proto))) {\n            console.warn(`Blocked dangerous URL: ${url}`);\n            return '';\n        }\n\n        return url;\n    }\n\n    /**\n     * Validate and sanitize user input\n     * @param {string} input - Raw user input\n     * @param {Object} options - Validation options\n     * @returns {Object} - {valid: boolean, sanitized: string, error: string}\n     */\n    static validateInput(input, options = {}) {\n        const {\n            maxLength = 1000,\n            minLength = 0,\n            allowedChars = null,  // Regex pattern\n            required = false\n        } = options;\n\n        // Check required\n        if (required && (!input || input.trim().length === 0)) {\n            return { valid: false, error: 'This field is required', sanitized: '' };\n        }\n\n        // Check length\n        if (input && input.length > maxLength) {\n            return { valid: false, error: `Maximum length is ${maxLength} characters`, sanitized: input.substring(0, maxLength) };\n        }\n\n        if (input && input.length < minLength) {\n            return { valid: false, error: `Minimum length is ${minLength} characters`, sanitized: input };\n        }\n\n        // Check allowed characters\n        if (allowedChars && input) {\n            const regex = new RegExp(allowedChars);\n            if (!regex.test(input)) {\n                return { valid: false, error: 'Input contains invalid characters', sanitized: input };\n            }\n        }\n\n        return { valid: true, sanitized: input || '', error: null };\n    }\n}\n\n/**\n * Rate Limiter for API calls\n */\nexport class RateLimiter {\n    constructor() {\n        this.requests = new Map(); // endpoint -> [timestamps]\n        this.limits = {\n            default: { maxRequests: 60, windowMs: 60000 },      // 60 per minute\n            search: { maxRequests: 30, windowMs: 60000 },       // 30 per minute for search\n            mutation: { maxRequests: 20, windowMs: 60000 }      // 20 per minute for creates/updates/deletes\n        };\n    }\n\n    /**\n     * Check if request is allowed\n     * @param {string} endpoint - API endpoint\n     * @param {string} type - Request type (default, search, mutation)\n     * @returns {boolean} - True if allowed\n     */\n    isAllowed(endpoint, type = 'default') {\n        const now = Date.now();\n        const limit = this.limits[type] || this.limits.default;\n\n        // Get request history for this endpoint\n        if (!this.requests.has(endpoint)) {\n            this.requests.set(endpoint, []);\n        }\n\n        const history = this.requests.get(endpoint);\n\n        // Remove old requests outside the time window\n        const validRequests = history.filter(timestamp => now - timestamp < limit.windowMs);\n\n        // Check if limit exceeded\n        if (validRequests.length >= limit.maxRequests) {\n            return false;\n        }\n\n        // Add current request\n        validRequests.push(now);\n        this.requests.set(endpoint, validRequests);\n\n        return true;\n    }\n\n    /**\n     * Get time until rate limit resets (in seconds)\n     * @param {string} endpoint - API endpoint\n     * @param {string} type - Request type\n     * @returns {number} - Seconds until reset\n     */\n    getResetTime(endpoint, type = 'default') {\n        const limit = this.limits[type] || this.limits.default;\n\n        if (!this.requests.has(endpoint)) {\n            return 0;\n        }\n\n        const history = this.requests.get(endpoint);\n        if (history.length === 0) {\n            return 0;\n        }\n\n        const oldestRequest = Math.min(...history);\n        const resetTime = oldestRequest + limit.windowMs;\n        const now = Date.now();\n\n        return Math.max(0, Math.ceil((resetTime - now) / 1000));\n    }\n\n    /**\n     * Clear rate limit history for endpoint\n     * @param {string} endpoint - API endpoint\n     */\n    clear(endpoint) {\n        this.requests.delete(endpoint);\n    }\n\n    /**\n     * Clear all rate limit history\n     */\n    clearAll() {\n        this.requests.clear();\n    }\n}\n\n/**\n * Session Manager with timeout\n */\nexport class SessionManager {\n    constructor(timeoutMinutes = 15, warningMinutes = 10) {\n        this.timeoutMs = timeoutMinutes * 60 * 1000;\n        this.warningMs = warningMinutes * 60 * 1000;\n        this.lastActivity = Date.now();\n        this.warningShown = false;\n        this.timeoutCallback = null;\n        this.warningCallback = null;\n        this.checkInterval = null;\n    }\n\n    /**\n     * Start session monitoring\n     * @param {Function} onTimeout - Callback when session expires\n     * @param {Function} onWarning - Callback for timeout warning\n     */\n    start(onTimeout, onWarning) {\n        this.timeoutCallback = onTimeout;\n        this.warningCallback = onWarning;\n        this.lastActivity = Date.now();\n        this.warningShown = false;\n\n        // Set up activity listeners\n        ['mousedown', 'keydown', 'scroll', 'touchstart'].forEach(event => {\n            document.addEventListener(event, () => this.recordActivity(), { passive: true });\n        });\n\n        // Check session every 30 seconds\n        this.checkInterval = setInterval(() => this.checkSession(), 30000);\n    }\n\n    /**\n     * Record user activity\n     */\n    recordActivity() {\n        this.lastActivity = Date.now();\n        this.warningShown = false;\n    }\n\n    /**\n     * Check session status\n     */\n    checkSession() {\n        const now = Date.now();\n        const inactiveMs = now - this.lastActivity;\n\n        // Session timeout\n        if (inactiveMs >= this.timeoutMs) {\n            this.stop();\n            if (this.timeoutCallback) {\n                this.timeoutCallback();\n            }\n            return;\n        }\n\n        // Show warning\n        if (inactiveMs >= this.warningMs && !this.warningShown) {\n            this.warningShown = true;\n            if (this.warningCallback) {\n                const remainingMinutes = Math.ceil((this.timeoutMs - inactiveMs) / 60000);\n                this.warningCallback(remainingMinutes);\n            }\n        }\n    }\n\n    /**\n     * Stop session monitoring\n     */\n    stop() {\n        if (this.checkInterval) {\n            clearInterval(this.checkInterval);\n            this.checkInterval = null;\n        }\n    }\n\n    /**\n     * Reset session timer\n     */\n    reset() {\n        this.lastActivity = Date.now();\n        this.warningShown = false;\n    }\n\n    /**\n     * Get remaining time in minutes\n     * @returns {number} - Minutes until timeout\n     */\n    getRemainingMinutes() {\n        const now = Date.now();\n        const inactiveMs = now - this.lastActivity;\n        const remainingMs = this.timeoutMs - inactiveMs;\n        return Math.max(0, Math.ceil(remainingMs / 60000));\n    }\n}\n\n// Export singleton instances\nexport const rateLimiter = new RateLimiter();\nexport const sessionManager = new SessionManager(15, 10); // 15 min timeout, 10 min warning\n","/**\n * Application Constants\n * Centralized configuration values and magic strings\n */\n\n// LocalStorage Keys\nexport const STORAGE_KEYS = {\n    APP_CONFIG: 'pimbuddy-app-config',\n    CUSTOM_TEMPLATES: 'pimbuddy-custom-templates',\n    THEME: 'pimbuddy-theme',\n    CACHE_TIMESTAMP: 'pimbuddy-cache-timestamp'\n};\n\n// Pagination Settings\nexport const PAGINATION = {\n    DEFAULT_PAGE_SIZE: 50,\n    PAGE_SIZE_OPTIONS: [20, 50, 100, 200],\n    MAX_PAGE_SIZE: 500\n};\n\n// Session Settings\nexport const SESSION = {\n    TIMEOUT_MINUTES: 15,\n    WARNING_MINUTES: 10\n};\n\n// Rate Limit Settings\nexport const RATE_LIMITS = {\n    DEFAULT: { maxRequests: 60, windowMs: 60000 },\n    SEARCH: { maxRequests: 30, windowMs: 60000 },\n    MUTATION: { maxRequests: 20, windowMs: 60000 }\n};\n\n// Graph API Endpoints\nexport const API_ENDPOINTS = {\n    USERS: '/users',\n    GROUPS: '/groups',\n    DIRECTORY_ROLES: '/directoryRoles',\n    ROLE_DEFINITIONS: '/roleManagement/directory/roleDefinitions',\n    ROLE_ASSIGNMENTS: '/roleManagement/directory/roleAssignments',\n    ROLE_ELIGIBILITY: '/roleManagement/directory/roleEligibilityScheduleRequests',\n    ROLE_ELIGIBILITY_INSTANCES: '/roleManagement/directory/roleEligibilityScheduleInstances',\n    ROLE_ASSIGNMENT_REQUESTS: '/roleManagement/directory/roleAssignmentScheduleRequests',\n    ROLE_ASSIGNMENT_INSTANCES: '/roleManagement/directory/roleAssignmentScheduleInstances',\n    PIM_POLICIES: '/policies/roleManagementPolicies',\n    PIM_POLICY_ASSIGNMENTS: '/policies/roleManagementPolicyAssignments',\n    AUDIT_LOGS: '/auditLogs/directoryAudits',\n    APPROVAL_REQUESTS: '/roleManagement/directory/roleAssignmentApprovals'\n};\n\n// Privilege Levels\nexport const PRIVILEGE_LEVELS = {\n    CRITICAL: 'critical',\n    HIGH: 'high',\n    MEDIUM: 'medium',\n    LOW: 'low'\n};\n\n// Critical Role GUIDs (Tier 0)\nexport const TIER_0_ROLES = [\n    '62e90394-69f5-4237-9190-012177145e10', // Global Administrator\n    'e8611ab8-c189-46e8-94e1-60213ab1f814', // Privileged Role Administrator\n    '9b895d92-2cd3-44c7-9d02-a6ac2d5ea5c3', // Application Administrator\n    '158c047a-c907-4556-b7ef-446551a6b5f7', // Cloud Application Administrator\n    '7be44c8a-adaf-4e2a-84d6-ab2649e08a13', // Privileged Authentication Administrator\n    'c4e39bd9-1100-46d3-8c65-fb160da0071f', // Authentication Administrator\n    '194ae4cb-b126-40b2-bd5b-6091b380977d', // Security Administrator\n    '29232cdf-9323-42fd-ade2-1d097af3e4de', // Exchange Administrator\n    'f28a1f50-f6e7-4571-818b-6a12f2af6b6c', // SharePoint Administrator\n    '729827e3-9c14-49f7-bb1b-9608f156bbb8', // Helpdesk Administrator\n    'fe930be7-5e62-47db-91af-98c3a49a38b1', // User Administrator\n];\n\n// High Privilege Roles (Tier 1)\nexport const TIER_1_ROLES = [\n    '5d6b6bb7-de71-4623-b4af-96380a352509', // Security Reader\n    'be2f45a1-457d-42af-a067-6ec1fa63bc45', // Global Reader\n    '4a5d8f65-41da-4de4-8968-e035b65339cf', // Reports Reader\n    '17315797-102d-40b4-93e0-432062caca18', // Compliance Administrator\n    '2b745bdf-0803-4d80-aa65-822c4493daac', // Service Support Administrator\n    '11648597-926c-4cf3-9c36-bcebb0ba8dcc', // Power Platform Administrator\n    'b1be1c3e-b65d-4f19-8427-f6fa0d97feb9', // Conditional Access Administrator\n    'fdd7a751-b60b-444a-984c-02652fe8fa1c', // Groups Administrator\n    '7698a772-787b-4ac8-901f-60d6b08affd2', // Cloud Device Administrator\n];\n\n// Validation Rules\nexport const VALIDATION = {\n    MAX_GROUP_NAME_LENGTH: 256,\n    MAX_DESCRIPTION_LENGTH: 1024,\n    MAX_JUSTIFICATION_LENGTH: 2000,\n    MIN_PASSWORD_LENGTH: 12,\n    MAX_SEARCH_QUERY_LENGTH: 200\n};\n\n// UI Constants\nexport const UI = {\n    TOAST_DURATION: 5000,\n    LOADING_MIN_DURATION: 300,\n    MODAL_ANIMATION_DURATION: 200,\n    DEBOUNCE_DELAY: 300\n};\n\n// Keyboard Shortcuts\nexport const KEYBOARD_SHORTCUTS = {\n    SEARCH: { ctrl: true, key: 'f', description: 'Focus search' },\n    REFRESH: { key: 'F5', description: 'Refresh current page' },\n    ESCAPE: { key: 'Escape', description: 'Close modal/dialog' },\n    BULK_SELECT: { ctrl: true, key: 'b', description: 'Toggle bulk select mode' },\n    EXPORT: { ctrl: true, key: 'e', description: 'Export current view' }\n};\n\n// Error Messages\nexport const ERROR_MESSAGES = {\n    RATE_LIMIT: 'Too many requests. Please wait a moment and try again.',\n    SESSION_EXPIRED: 'Your session has expired. Please sign in again.',\n    NETWORK_ERROR: 'Network error. Please check your connection.',\n    PERMISSION_DENIED: 'You don\\'t have permission to perform this action.',\n    VALIDATION_FAILED: 'Validation failed. Please check your input.',\n    UNKNOWN_ERROR: 'An unexpected error occurred. Please try again.'\n};\n\n// Success Messages\nexport const SUCCESS_MESSAGES = {\n    GROUP_CREATED: 'Group created successfully',\n    GROUP_UPDATED: 'Group updated successfully',\n    GROUP_DELETED: 'Group deleted successfully',\n    POLICY_UPDATED: 'Policy updated successfully',\n    MEMBER_ADDED: 'Member added successfully',\n    MEMBER_REMOVED: 'Member removed successfully',\n    APPROVAL_PROCESSED: 'Approval processed successfully',\n    EXPORT_COMPLETED: 'Export completed successfully'\n};\n\n// Feature Flags\nexport const FEATURES = {\n    ENABLE_BULK_OPERATIONS: true,\n    ENABLE_EXPORT: true,\n    ENABLE_CHARTS: true,\n    ENABLE_ADVANCED_FILTERS: true,\n    ENABLE_KEYBOARD_SHORTCUTS: true\n};\n","/**\n * Pagination Utility\n * Handles client-side and server-side pagination logic\n */\n\nimport { PAGINATION } from './constants.js';\n\nexport class Paginator {\n    constructor(items = [], pageSize = PAGINATION.DEFAULT_PAGE_SIZE) {\n        this.allItems = items;\n        this.pageSize = pageSize;\n        this.currentPage = 1;\n        this.totalPages = Math.ceil(items.length / pageSize);\n    }\n\n    /**\n     * Get items for current page\n     * @returns {Array} - Items for current page\n     */\n    getCurrentPageItems() {\n        const start = (this.currentPage - 1) * this.pageSize;\n        const end = start + this.pageSize;\n        return this.allItems.slice(start, end);\n    }\n\n    /**\n     * Go to specific page\n     * @param {number} page - Page number (1-indexed)\n     * @returns {boolean} - Success\n     */\n    goToPage(page) {\n        if (page < 1 || page > this.totalPages) {\n            return false;\n        }\n        this.currentPage = page;\n        return true;\n    }\n\n    /**\n     * Go to next page\n     * @returns {boolean} - Success\n     */\n    nextPage() {\n        return this.goToPage(this.currentPage + 1);\n    }\n\n    /**\n     * Go to previous page\n     * @returns {boolean} - Success\n     */\n    previousPage() {\n        return this.goToPage(this.currentPage - 1);\n    }\n\n    /**\n     * Go to first page\n     */\n    firstPage() {\n        this.currentPage = 1;\n    }\n\n    /**\n     * Go to last page\n     */\n    lastPage() {\n        this.currentPage = this.totalPages;\n    }\n\n    /**\n     * Update items and recalculate pagination\n     * @param {Array} items - New items array\n     */\n    updateItems(items) {\n        this.allItems = items;\n        this.totalPages = Math.ceil(items.length / this.pageSize);\n\n        // Adjust current page if it's now out of bounds\n        if (this.currentPage > this.totalPages) {\n            this.currentPage = Math.max(1, this.totalPages);\n        }\n    }\n\n    /**\n     * Change page size\n     * @param {number} newSize - New page size\n     */\n    setPageSize(newSize) {\n        this.pageSize = newSize;\n        this.totalPages = Math.ceil(this.allItems.length / this.pageSize);\n\n        // Try to maintain roughly the same position\n        const firstItemOnPage = (this.currentPage - 1) * this.pageSize;\n        this.currentPage = Math.floor(firstItemOnPage / newSize) + 1;\n    }\n\n    /**\n     * Get pagination info\n     * @returns {Object} - Pagination metadata\n     */\n    getInfo() {\n        const start = (this.currentPage - 1) * this.pageSize + 1;\n        const end = Math.min(start + this.pageSize - 1, this.allItems.length);\n\n        return {\n            currentPage: this.currentPage,\n            totalPages: this.totalPages,\n            pageSize: this.pageSize,\n            totalItems: this.allItems.length,\n            start,\n            end,\n            hasNext: this.currentPage < this.totalPages,\n            hasPrevious: this.currentPage > 1\n        };\n    }\n\n    /**\n     * Generate page number array for UI\n     * @param {number} maxButtons - Maximum page buttons to show\n     * @returns {Array} - Page numbers to display\n     */\n    getPageNumbers(maxButtons = 7) {\n        if (this.totalPages <= maxButtons) {\n            return Array.from({ length: this.totalPages }, (_, i) => i + 1);\n        }\n\n        const half = Math.floor(maxButtons / 2);\n        let start = Math.max(1, this.currentPage - half);\n        let end = Math.min(this.totalPages, start + maxButtons - 1);\n\n        // Adjust start if we're near the end\n        if (end - start < maxButtons - 1) {\n            start = Math.max(1, end - maxButtons + 1);\n        }\n\n        const pages = [];\n\n        // Always show first page\n        if (start > 1) {\n            pages.push(1);\n            if (start > 2) pages.push('...');\n        }\n\n        // Show middle pages\n        for (let i = start; i <= end; i++) {\n            pages.push(i);\n        }\n\n        // Always show last page\n        if (end < this.totalPages) {\n            if (end < this.totalPages - 1) pages.push('...');\n            pages.push(this.totalPages);\n        }\n\n        return pages;\n    }\n\n    /**\n     * Render pagination controls HTML\n     * @param {string} onPageChangeCallback - Function name to call on page change\n     * @returns {string} - HTML string for pagination controls\n     */\n    renderControls(onPageChangeCallback = 'app.handlePageChange') {\n        const info = this.getInfo();\n\n        if (info.totalPages <= 1) {\n            return ''; // No pagination needed\n        }\n\n        const pageNumbers = this.getPageNumbers();\n\n        return `\n            <div class=\"pagination-controls\" style=\"display: flex; align-items: center; justify-content: space-between; padding: var(--space-md); border-top: 1px solid var(--border-subtle); gap: var(--space-md); flex-wrap: wrap;\">\n                <!-- Page Info -->\n                <div style=\"font-size: 0.85rem; color: var(--text-secondary); font-family: var(--font-mono);\">\n                    Showing <strong>${info.start}-${info.end}</strong> of <strong>${info.totalItems}</strong> items\n                </div>\n\n                <!-- Page Navigation -->\n                <div style=\"display: flex; align-items: center; gap: var(--space-xs);\">\n                    <!-- First Page -->\n                    <button\n                        class=\"btn btn-sm btn-secondary\"\n                        onclick=\"${onPageChangeCallback}(1)\"\n                        ${!info.hasPrevious ? 'disabled' : ''}\n                        title=\"First Page\"\n                        style=\"padding: var(--space-xs) var(--space-sm);\">\n                        <i class=\"fas fa-angle-double-left\"></i>\n                    </button>\n\n                    <!-- Previous Page -->\n                    <button\n                        class=\"btn btn-sm btn-secondary\"\n                        onclick=\"${onPageChangeCallback}(${info.currentPage - 1})\"\n                        ${!info.hasPrevious ? 'disabled' : ''}\n                        title=\"Previous Page\"\n                        style=\"padding: var(--space-xs) var(--space-sm);\">\n                        <i class=\"fas fa-angle-left\"></i>\n                    </button>\n\n                    <!-- Page Numbers -->\n                    ${pageNumbers.map(page => {\n                        if (page === '...') {\n                            return `<span style=\"padding: 0 var(--space-xs); color: var(--text-muted);\">...</span>`;\n                        }\n                        return `\n                            <button\n                                class=\"btn btn-sm ${page === info.currentPage ? 'btn-primary' : 'btn-secondary'}\"\n                                onclick=\"${onPageChangeCallback}(${page})\"\n                                style=\"min-width: 36px; padding: var(--space-xs) var(--space-sm); font-family: var(--font-mono); font-size: 0.85rem;\">\n                                ${page}\n                            </button>\n                        `;\n                    }).join('')}\n\n                    <!-- Next Page -->\n                    <button\n                        class=\"btn btn-sm btn-secondary\"\n                        onclick=\"${onPageChangeCallback}(${info.currentPage + 1})\"\n                        ${!info.hasNext ? 'disabled' : ''}\n                        title=\"Next Page\"\n                        style=\"padding: var(--space-xs) var(--space-sm);\">\n                        <i class=\"fas fa-angle-right\"></i>\n                    </button>\n\n                    <!-- Last Page -->\n                    <button\n                        class=\"btn btn-sm btn-secondary\"\n                        onclick=\"${onPageChangeCallback}(${info.totalPages})\"\n                        ${!info.hasNext ? 'disabled' : ''}\n                        title=\"Last Page\"\n                        style=\"padding: var(--space-xs) var(--space-sm);\">\n                        <i class=\"fas fa-angle-double-right\"></i>\n                    </button>\n                </div>\n\n                <!-- Page Size Selector -->\n                <div style=\"display: flex; align-items: center; gap: var(--space-sm);\">\n                    <label style=\"font-size: 0.85rem; color: var(--text-secondary); font-family: var(--font-mono);\">Items per page:</label>\n                    <select\n                        class=\"input input-select\"\n                        onchange=\"${onPageChangeCallback.replace('handlePageChange', 'handlePageSizeChange')}(parseInt(this.value))\"\n                        style=\"padding: var(--space-xs) var(--space-sm); font-size: 0.85rem; min-width: 80px;\">\n                        ${PAGINATION.PAGE_SIZE_OPTIONS.map(size => `\n                            <option value=\"${size}\" ${size === info.pageSize ? 'selected' : ''}>${size}</option>\n                        `).join('')}\n                    </select>\n                </div>\n            </div>\n        `;\n    }\n}\n\n/**\n * Helper function to create paginator instance\n * @param {Array} items - Items to paginate\n * @param {number} pageSize - Items per page\n * @returns {Paginator} - Paginator instance\n */\nexport function createPaginator(items, pageSize) {\n    return new Paginator(items, pageSize);\n}\n","/**\n * Export Utility\n * Handles CSV and JSON export functionality\n */\n\nexport class ExportUtils {\n    /**\n     * Export data to CSV format\n     * @param {Array} data - Array of objects to export\n     * @param {string} filename - Filename without extension\n     * @param {Array} columns - Optional column definitions [{key, header}]\n     */\n    static exportToCSV(data, filename, columns = null) {\n        if (!data || data.length === 0) {\n            throw new Error('No data to export');\n        }\n\n        // Auto-detect columns if not provided\n        if (!columns) {\n            const firstItem = data[0];\n            columns = Object.keys(firstItem).map(key => ({\n                key: key,\n                header: this.formatHeader(key)\n            }));\n        }\n\n        // Build CSV header\n        const headers = columns.map(col => this.escapeCSVValue(col.header));\n        const csvRows = [headers.join(',')];\n\n        // Build CSV rows\n        for (const item of data) {\n            const row = columns.map(col => {\n                const value = this.getNestedValue(item, col.key);\n                return this.escapeCSVValue(this.formatCSVValue(value));\n            });\n            csvRows.push(row.join(','));\n        }\n\n        // Create CSV content\n        const csvContent = csvRows.join('\\n');\n\n        // Trigger download\n        this.downloadFile(csvContent, `${filename}.csv`, 'text/csv;charset=utf-8;');\n    }\n\n    /**\n     * Export data to JSON format\n     * @param {Array|Object} data - Data to export\n     * @param {string} filename - Filename without extension\n     * @param {boolean} pretty - Pretty print JSON\n     */\n    static exportToJSON(data, filename, pretty = true) {\n        if (!data) {\n            throw new Error('No data to export');\n        }\n\n        const jsonContent = JSON.stringify(data, null, pretty ? 2 : 0);\n        this.downloadFile(jsonContent, `${filename}.json`, 'application/json;charset=utf-8;');\n    }\n\n    /**\n     * Format header name (camelCase to Title Case)\n     */\n    static formatHeader(key) {\n        return key\n            .replace(/([A-Z])/g, ' $1')\n            .replace(/^./, str => str.toUpperCase())\n            .trim();\n    }\n\n    /**\n     * Get nested value from object using dot notation\n     */\n    static getNestedValue(obj, path) {\n        if (!path) return obj;\n\n        const keys = path.split('.');\n        let value = obj;\n\n        for (const key of keys) {\n            if (value === null || value === undefined) return '';\n            value = value[key];\n        }\n\n        return value;\n    }\n\n    /**\n     * Format value for CSV output\n     */\n    static formatCSVValue(value) {\n        if (value === null || value === undefined) return '';\n        if (typeof value === 'boolean') return value ? 'Yes' : 'No';\n        if (value instanceof Date) return value.toISOString();\n        if (typeof value === 'object') return JSON.stringify(value);\n        return String(value);\n    }\n\n    /**\n     * Escape CSV value (handle quotes and commas)\n     */\n    static escapeCSVValue(value) {\n        const str = String(value);\n\n        // If value contains comma, quotes, or newline, wrap in quotes\n        if (str.includes(',') || str.includes('\"') || str.includes('\\n')) {\n            // Escape existing quotes by doubling them\n            return `\"${str.replace(/\"/g, '\"\"')}\"`;\n        }\n\n        return str;\n    }\n\n    /**\n     * Trigger file download\n     */\n    static downloadFile(content, filename, mimeType) {\n        const blob = new Blob([content], { type: mimeType });\n        const url = URL.createObjectURL(blob);\n\n        const link = document.createElement('a');\n        link.href = url;\n        link.download = filename;\n        link.style.display = 'none';\n\n        document.body.appendChild(link);\n        link.click();\n\n        // Cleanup\n        setTimeout(() => {\n            document.body.removeChild(link);\n            URL.revokeObjectURL(url);\n        }, 100);\n    }\n\n    /**\n     * Generate filename with timestamp\n     */\n    static generateFilename(prefix) {\n        const timestamp = new Date().toISOString().replace(/[:.]/g, '-').slice(0, -5);\n        return `${prefix}_${timestamp}`;\n    }\n}\n\n/**\n * Predefined export configurations for common data types\n */\nexport const ExportConfigs = {\n    groups: {\n        columns: [\n            { key: 'displayName', header: 'Group Name' },\n            { key: 'description', header: 'Description' },\n            { key: 'memberCount', header: 'Members' },\n            { key: 'ownerCount', header: 'Owners' },\n            { key: 'createdDateTime', header: 'Created Date' },\n            { key: 'id', header: 'Object ID' }\n        ]\n    },\n    roles: {\n        columns: [\n            { key: 'displayName', header: 'Role Name' },\n            { key: 'description', header: 'Description' },\n            { key: 'privilegeLevel', header: 'Privilege Level' },\n            { key: 'isBuiltIn', header: 'Built-in' },\n            { key: 'id', header: 'Role ID' }\n        ]\n    },\n    activity: {\n        columns: [\n            { key: 'activityDateTime', header: 'Date/Time' },\n            { key: 'activityDisplayName', header: 'Activity' },\n            { key: 'initiatedBy.user.displayName', header: 'Initiated By' },\n            { key: 'initiatedBy.user.userPrincipalName', header: 'UPN' },\n            { key: 'category', header: 'Category' },\n            { key: 'result', header: 'Result' }\n        ]\n    },\n    policies: {\n        columns: [\n            { key: 'displayName', header: 'Policy Name' },\n            { key: 'scopeId', header: 'Scope ID' },\n            { key: 'scopeType', header: 'Scope Type' },\n            { key: 'isOrganizationDefault', header: 'Is Default' }\n        ]\n    },\n    approvals: {\n        columns: [\n            { key: 'principalDisplayName', header: 'User' },\n            { key: 'principalUserPrincipalName', header: 'UPN' },\n            { key: 'roleDisplayName', header: 'Role' },\n            { key: 'requestedDateTime', header: 'Requested' },\n            { key: 'justification', header: 'Justification' },\n            { key: 'status', header: 'Status' }\n        ]\n    }\n};\n","/**\n * Bulk Operations Utility\n * Handles multi-select and batch operations\n */\n\nexport class BulkOperationsManager {\n    constructor() {\n        this.selectedItems = new Set();\n        this.allItems = [];\n        this.onSelectionChange = null;\n    }\n\n    /**\n     * Initialize bulk operations for a dataset\n     * @param {Array} items - Array of items with id property\n     * @param {Function} onSelectionChange - Callback when selection changes\n     */\n    initialize(items, onSelectionChange = null) {\n        this.allItems = items;\n        this.selectedItems.clear();\n        this.onSelectionChange = onSelectionChange;\n    }\n\n    /**\n     * Toggle item selection\n     * @param {string} itemId - Item ID to toggle\n     */\n    toggleItem(itemId) {\n        if (this.selectedItems.has(itemId)) {\n            this.selectedItems.delete(itemId);\n        } else {\n            this.selectedItems.add(itemId);\n        }\n\n        if (this.onSelectionChange) {\n            this.onSelectionChange(this.getSelectedItems());\n        }\n    }\n\n    /**\n     * Select all items\n     */\n    selectAll() {\n        this.selectedItems.clear();\n        this.allItems.forEach(item => {\n            this.selectedItems.add(item.id);\n        });\n\n        if (this.onSelectionChange) {\n            this.onSelectionChange(this.getSelectedItems());\n        }\n    }\n\n    /**\n     * Clear all selections\n     */\n    clearSelection() {\n        this.selectedItems.clear();\n\n        if (this.onSelectionChange) {\n            this.onSelectionChange(this.getSelectedItems());\n        }\n    }\n\n    /**\n     * Check if item is selected\n     */\n    isSelected(itemId) {\n        return this.selectedItems.has(itemId);\n    }\n\n    /**\n     * Get selected item IDs\n     */\n    getSelectedIds() {\n        return Array.from(this.selectedItems);\n    }\n\n    /**\n     * Get selected items (full objects)\n     */\n    getSelectedItems() {\n        return this.allItems.filter(item => this.selectedItems.has(item.id));\n    }\n\n    /**\n     * Get selection count\n     */\n    getSelectionCount() {\n        return this.selectedItems.size;\n    }\n\n    /**\n     * Check if all items are selected\n     */\n    areAllSelected() {\n        return this.selectedItems.size === this.allItems.length && this.allItems.length > 0;\n    }\n\n    /**\n     * Check if some (but not all) items are selected\n     */\n    areSomeSelected() {\n        return this.selectedItems.size > 0 && this.selectedItems.size < this.allItems.length;\n    }\n\n    /**\n     * Render multi-select checkbox for table header\n     */\n    renderHeaderCheckbox(onChangeCallback = 'app.bulkOps.toggleAll') {\n        const allSelected = this.areAllSelected();\n        const someSelected = this.areSomeSelected();\n        const indeterminate = someSelected ? 'indeterminate' : '';\n\n        return `\n            <input\n                type=\"checkbox\"\n                class=\"bulk-checkbox header-checkbox ${indeterminate}\"\n                ${allSelected ? 'checked' : ''}\n                onchange=\"${onChangeCallback}(this)\"\n                title=\"${allSelected ? 'Deselect All' : 'Select All'}\"\n            >\n        `;\n    }\n\n    /**\n     * Render multi-select checkbox for table row\n     */\n    renderRowCheckbox(itemId, onChangeCallback = 'app.bulkOps.toggleItem') {\n        const isSelected = this.isSelected(itemId);\n\n        return `\n            <input\n                type=\"checkbox\"\n                class=\"bulk-checkbox\"\n                ${isSelected ? 'checked' : ''}\n                onchange=\"${onChangeCallback}('${itemId}')\"\n                data-item-id=\"${itemId}\"\n            >\n        `;\n    }\n\n    /**\n     * Render bulk actions toolbar\n     */\n    renderBulkActionsToolbar(actions = []) {\n        const count = this.getSelectionCount();\n\n        if (count === 0) {\n            return ''; // Hide toolbar when nothing selected\n        }\n\n        return `\n            <div class=\"bulk-actions-toolbar\" style=\"display: flex; align-items: center; gap: var(--space-md); padding: var(--space-md); background: var(--accent-primary-dim); border: 1px solid var(--accent-primary); border-radius: var(--radius-md); margin-bottom: var(--space-md); animation: slideDown 0.2s ease-out;\">\n                <div style=\"display: flex; align-items: center; gap: var(--space-sm); flex: 1;\">\n                    <div style=\"width: 32px; height: 32px; background: var(--accent-primary); border-radius: 50%; display: flex; align-items: center; justify-content: center;\">\n                        <i class=\"fas fa-check\" style=\"color: var(--bg-primary); font-size: 0.9rem;\"></i>\n                    </div>\n                    <div>\n                        <div style=\"font-family: var(--font-display); font-weight: 700; font-size: 0.9rem; color: var(--text-primary);\">\n                            ${count} ${count === 1 ? 'item' : 'items'} selected\n                        </div>\n                        <div style=\"font-family: var(--font-mono); font-size: 0.7rem; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.05em;\">\n                            Choose an action below\n                        </div>\n                    </div>\n                </div>\n\n                <div style=\"display: flex; align-items: center; gap: var(--space-sm);\">\n                    ${actions.map(action => `\n                        <button\n                            class=\"btn btn-sm ${action.variant || 'btn-secondary'}\"\n                            onclick=\"${action.onClick}\"\n                            ${action.disabled ? 'disabled' : ''}\n                            title=\"${action.description || action.label}\"\n                            style=\"font-family: var(--font-mono); font-size: 0.75rem;\">\n                            <i class=\"fas ${action.icon}\"></i> ${action.label}\n                        </button>\n                    `).join('')}\n\n                    <button\n                        class=\"btn btn-sm btn-secondary\"\n                        onclick=\"app.bulkOps.clearSelection()\"\n                        title=\"Clear Selection\"\n                        style=\"font-family: var(--font-mono); font-size: 0.75rem;\">\n                        <i class=\"fas fa-times\"></i> Clear\n                    </button>\n                </div>\n            </div>\n        `;\n    }\n}\n\n/**\n * Execute bulk operation with progress tracking\n * @param {Array} items - Items to process\n * @param {Function} operation - Async operation to perform on each item\n * @param {Function} onProgress - Progress callback\n * @param {Function} onComplete - Completion callback\n */\nexport async function executeBulkOperation(items, operation, onProgress, onComplete) {\n    const results = {\n        total: items.length,\n        succeeded: 0,\n        failed: 0,\n        errors: []\n    };\n\n    for (let i = 0; i < items.length; i++) {\n        const item = items[i];\n\n        try {\n            await operation(item);\n            results.succeeded++;\n        } catch (error) {\n            results.failed++;\n            results.errors.push({\n                item: item,\n                error: error.message\n            });\n        }\n\n        // Report progress\n        if (onProgress) {\n            onProgress({\n                current: i + 1,\n                total: items.length,\n                percentage: Math.round(((i + 1) / items.length) * 100)\n            });\n        }\n\n        // Small delay to prevent rate limiting\n        if (i < items.length - 1) {\n            await new Promise(resolve => setTimeout(resolve, 200));\n        }\n    }\n\n    // Report completion\n    if (onComplete) {\n        onComplete(results);\n    }\n\n    return results;\n}\n\n/**\n * Render progress modal for bulk operations\n */\nexport function renderBulkProgressModal(progress) {\n    const percentage = progress.percentage || 0;\n\n    return `\n        <div style=\"text-align: center; padding: var(--space-xl);\">\n            <div style=\"width: 80px; height: 80px; margin: 0 auto var(--space-lg); background: var(--accent-primary-dim); border-radius: 50%; display: flex; align-items: center; justify-content: center; animation: pulse 2s ease-in-out infinite;\">\n                <i class=\"fas fa-cog fa-spin\" style=\"font-size: 2.5rem; color: var(--accent-primary);\"></i>\n            </div>\n\n            <h2 style=\"font-family: var(--font-display); font-size: 1.5rem; font-weight: 800; margin-bottom: var(--space-sm);\">\n                Processing Bulk Operation\n            </h2>\n\n            <p style=\"font-family: var(--font-mono); font-size: 0.9rem; color: var(--text-secondary); margin-bottom: var(--space-xl);\">\n                ${progress.current} of ${progress.total} items processed\n            </p>\n\n            <!-- Progress Bar -->\n            <div style=\"width: 100%; height: 8px; background: var(--bg-elevated); border-radius: var(--radius-full); overflow: hidden; margin-bottom: var(--space-sm);\">\n                <div style=\"width: ${percentage}%; height: 100%; background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary)); transition: width 0.3s ease-out;\"></div>\n            </div>\n\n            <div style=\"font-family: var(--font-mono); font-size: 0.85rem; font-weight: 700; color: var(--accent-primary);\">\n                ${percentage}%\n            </div>\n\n            <p style=\"font-size: 0.8rem; color: var(--text-muted); margin-top: var(--space-lg); font-family: var(--font-mono);\">\n                Please wait while we process your request...\n            </p>\n        </div>\n    `;\n}\n\n/**\n * Render results modal for bulk operations\n */\nexport function renderBulkResultsModal(results) {\n    const hasErrors = results.failed > 0;\n\n    return `\n        <div style=\"text-align: center; padding: var(--space-xl);\">\n            <div style=\"width: 100px; height: 100px; margin: 0 auto var(--space-lg); background: ${hasErrors ? 'var(--color-warning-dim)' : 'var(--color-success-dim)'}; border-radius: 50%; display: flex; align-items: center; justify-content: center;\">\n                <i class=\"fas ${hasErrors ? 'fa-exclamation-triangle' : 'fa-check-circle'}\" style=\"font-size: 3.5rem; color: ${hasErrors ? 'var(--color-warning)' : 'var(--color-success)'};\"></i>\n            </div>\n\n            <h2 style=\"font-family: var(--font-display); font-size: 1.8rem; font-weight: 800; margin-bottom: var(--space-md);\">\n                ${hasErrors ? 'Partially Complete' : 'Operation Complete'}\n            </h2>\n\n            <div class=\"stats-grid\" style=\"margin-bottom: var(--space-lg);\">\n                <div class=\"card stat-card\" style=\"text-align: center;\">\n                    <div style=\"font-family: var(--font-display); font-size: 2.5rem; font-weight: 800; color: var(--color-success);\">\n                        ${results.succeeded}\n                    </div>\n                    <div style=\"font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.1em; color: var(--text-secondary); font-family: var(--font-mono);\">\n                        Succeeded\n                    </div>\n                </div>\n\n                ${hasErrors ? `\n                    <div class=\"card stat-card\" style=\"text-align: center;\">\n                        <div style=\"font-family: var(--font-display); font-size: 2.5rem; font-weight: 800; color: var(--color-error);\">\n                            ${results.failed}\n                        </div>\n                        <div style=\"font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.1em; color: var(--text-secondary); font-family: var(--font-mono);\">\n                            Failed\n                        </div>\n                    </div>\n                ` : ''}\n            </div>\n\n            ${hasErrors && results.errors.length > 0 ? `\n                <details style=\"text-align: left; margin-top: var(--space-lg); padding: var(--space-md); background: var(--bg-elevated); border: 1px solid var(--border-subtle); border-radius: var(--radius-md);\">\n                    <summary style=\"cursor: pointer; font-family: var(--font-mono); font-size: 0.85rem; font-weight: 700; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.05em;\">\n                        View Errors (${results.errors.length})\n                    </summary>\n                    <div style=\"margin-top: var(--space-md); max-height: 200px; overflow-y: auto;\">\n                        ${results.errors.map(err => `\n                            <div style=\"padding: var(--space-sm); margin-bottom: var(--space-xs); background: var(--color-error-dim); border-left: 3px solid var(--color-error); border-radius: var(--radius-sm); font-size: 0.85rem; font-family: var(--font-mono);\">\n                                <strong>${err.item.displayName || err.item.id}:</strong> ${err.error}\n                            </div>\n                        `).join('')}\n                    </div>\n                </details>\n            ` : ''}\n\n            <button class=\"btn btn-primary\" onclick=\"app.closeModal()\" style=\"margin-top: var(--space-xl); font-family: var(--font-mono);\">\n                <i class=\"fas fa-check\"></i> Done\n            </button>\n        </div>\n    `;\n}\n","/**\n * UI Components Utility\n * Reusable UI components for consistent design\n */\n\nimport { SecurityUtils } from './security.js';\n\n/**\n * UI Components class\n */\nexport class UIComponents {\n    /**\n     * Render page header with title and actions\n     */\n    static renderPageHeader(title, actions = []) {\n        return `\n            <div class=\"page-header-row\">\n                <h1 class=\"page-header\">${SecurityUtils.escapeHtml(title)}</h1>\n                ${actions.length > 0 ? `\n                    <div style=\"display: flex; gap: var(--space-sm);\">\n                        ${actions.map(action => `\n                            <button\n                                class=\"btn ${action.variant || 'btn-primary'}\"\n                                onclick=\"${action.onClick}\"\n                                ${action.disabled ? 'disabled' : ''}\n                                title=\"${action.description || action.label}\">\n                                ${action.icon ? `<i class=\"fas ${action.icon}\"></i>` : ''} ${SecurityUtils.escapeHtml(action.label)}\n                            </button>\n                        `).join('')}\n                    </div>\n                ` : ''}\n            </div>\n        `;\n    }\n\n    /**\n     * Render toolbar with search and actions\n     */\n    static renderToolbar(config = {}) {\n        const {\n            searchPlaceholder = 'Search...',\n            searchId = 'search',\n            searchCallback = null,\n            actions = [],\n            filters = []\n        } = config;\n\n        return `\n            <div class=\"toolbar\">\n                ${searchCallback ? `\n                    <input\n                        type=\"text\"\n                        id=\"${searchId}\"\n                        class=\"input\"\n                        placeholder=\"${searchPlaceholder}\"\n                        oninput=\"${searchCallback}(this.value)\">\n                ` : ''}\n\n                ${filters.map(filter => `\n                    <select\n                        id=\"${filter.id}\"\n                        class=\"input input-select\"\n                        onchange=\"${filter.onChange}(this.value)\">\n                        ${filter.options.map(opt => `\n                            <option value=\"${opt.value}\" ${opt.selected ? 'selected' : ''}>\n                                ${SecurityUtils.escapeHtml(opt.label)}\n                            </option>\n                        `).join('')}\n                    </select>\n                `).join('')}\n\n                ${actions.map(action => `\n                    <button\n                        class=\"btn ${action.variant || 'btn-secondary'}\"\n                        onclick=\"${action.onClick}\"\n                        ${action.disabled ? 'disabled' : ''}\n                        title=\"${action.description || action.label}\">\n                        ${action.icon ? `<i class=\"fas ${action.icon}\"></i>` : ''} ${SecurityUtils.escapeHtml(action.label)}\n                    </button>\n                `).join('')}\n            </div>\n        `;\n    }\n\n    /**\n     * Render badge\n     */\n    static renderBadge(text, variant = 'default') {\n        const variantClass = variant !== 'default' ? `badge-${variant}` : '';\n        return `<span class=\"badge ${variantClass}\">${SecurityUtils.escapeHtml(text)}</span>`;\n    }\n\n    /**\n     * Render privilege badge\n     */\n    static renderPrivilegeBadge(level) {\n        const config = {\n            critical: { class: 'badge-critical', icon: 'fa-skull-crossbones', label: 'Critical' },\n            high: { class: 'badge-high', icon: 'fa-exclamation-triangle', label: 'High' },\n            medium: { class: 'badge-medium', icon: 'fa-shield-alt', label: 'Medium' },\n            low: { class: 'badge-low', icon: 'fa-check-circle', label: 'Low' }\n        };\n        const c = config[level] || config.low;\n        return `<span class=\"badge privilege-badge ${c.class}\"><i class=\"fas ${c.icon}\"></i> ${c.label}</span>`;\n    }\n\n    /**\n     * Render icon button\n     */\n    static renderIconButton(icon, onClick, options = {}) {\n        const {\n            title = '',\n            variant = '',\n            disabled = false,\n            size = ''\n        } = options;\n\n        return `\n            <button\n                class=\"icon-btn ${variant} ${size}\"\n                onclick=\"${onClick}\"\n                ${disabled ? 'disabled' : ''}\n                title=\"${title}\">\n                <i class=\"fas ${icon}\"></i>\n            </button>\n        `;\n    }\n\n    /**\n     * Render empty state\n     */\n    static renderEmptyState(config = {}) {\n        const {\n            icon = 'fa-inbox',\n            title = 'No Data',\n            message = 'No items found',\n            action = null\n        } = config;\n\n        return `\n            <div class=\"empty-state\" style=\"text-align: center; padding: var(--space-2xl) var(--space-lg); color: var(--text-secondary);\">\n                <div style=\"width: 120px; height: 120px; margin: 0 auto var(--space-xl); background: var(--bg-elevated); border-radius: 50%; display: flex; align-items: center; justify-content: center;\">\n                    <i class=\"fas ${icon}\" style=\"font-size: 3.5rem; color: var(--text-muted); opacity: 0.5;\"></i>\n                </div>\n                <div style=\"font-family: var(--font-display); font-size: 1.5rem; font-weight: 700; margin-bottom: var(--space-sm); color: var(--text-primary);\">\n                    ${SecurityUtils.escapeHtml(title)}\n                </div>\n                <div style=\"font-family: var(--font-mono); font-size: 0.9rem; color: var(--text-muted); margin-bottom: ${action ? 'var(--space-xl)' : '0'};\">\n                    ${SecurityUtils.escapeHtml(message)}\n                </div>\n                ${action ? `\n                    <button class=\"btn btn-primary\" onclick=\"${action.onClick}\">\n                        ${action.icon ? `<i class=\"fas ${action.icon}\"></i>` : ''} ${SecurityUtils.escapeHtml(action.label)}\n                    </button>\n                ` : ''}\n            </div>\n        `;\n    }\n\n    /**\n     * Render loading state\n     */\n    static renderLoadingState(message = 'Loading...') {\n        return `\n            <div class=\"loading-state\" style=\"text-align: center; padding: var(--space-2xl) var(--space-lg);\">\n                <div style=\"width: 80px; height: 80px; margin: 0 auto var(--space-lg); background: var(--accent-primary-dim); border-radius: 50%; display: flex; align-items: center; justify-content: center; animation: pulse 2s ease-in-out infinite;\">\n                    <i class=\"fas fa-spinner fa-spin\" style=\"font-size: 2.5rem; color: var(--accent-primary);\"></i>\n                </div>\n                <div style=\"font-family: var(--font-mono); font-size: 0.9rem; color: var(--text-secondary);\">\n                    ${SecurityUtils.escapeHtml(message)}\n                </div>\n            </div>\n        `;\n    }\n\n    /**\n     * Render stat card\n     */\n    static renderStatCard(config = {}) {\n        const {\n            icon = 'fa-chart-bar',\n            value = '0',\n            label = 'Stat',\n            color = 'primary',\n            trend = null\n        } = config;\n\n        return `\n            <div class=\"card stat-card\" style=\"position: relative; overflow: hidden;\">\n                <div style=\"position: absolute; top: 50%; right: -20%; width: 150px; height: 150px; background: radial-gradient(circle, var(--accent-${color}-dim), transparent); filter: blur(40px);\"></div>\n                <div style=\"position: relative; z-index: 1;\">\n                    <div style=\"width: 56px; height: 56px; background: var(--accent-${color}-dim); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center; margin-bottom: var(--space-md);\">\n                        <i class=\"fas ${icon}\" style=\"font-size: 1.5rem; color: var(--accent-${color});\"></i>\n                    </div>\n                    <div style=\"font-family: var(--font-display); font-size: 2.5rem; font-weight: 800; line-height: 1; margin-bottom: var(--space-xs); color: var(--text-primary);\">\n                        ${SecurityUtils.escapeHtml(String(value))}\n                    </div>\n                    <div style=\"font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.1em; color: var(--text-secondary); font-family: var(--font-mono);\">\n                        ${SecurityUtils.escapeHtml(label)}\n                    </div>\n                    ${trend ? `\n                        <div style=\"margin-top: var(--space-sm); font-size: 0.8rem; color: ${trend.direction === 'up' ? 'var(--color-success)' : 'var(--color-error)'};\">\n                            <i class=\"fas fa-arrow-${trend.direction}\"></i> ${SecurityUtils.escapeHtml(trend.value)}\n                        </div>\n                    ` : ''}\n                </div>\n            </div>\n        `;\n    }\n\n    /**\n     * Render modal\n     */\n    static renderModal(config = {}) {\n        const {\n            title = 'Modal',\n            content = '',\n            actions = [],\n            size = 'md',\n            showClose = true\n        } = config;\n\n        return `\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\">${SecurityUtils.escapeHtml(title)}</h2>\n                ${showClose ? `\n                    <button class=\"modal-close\" onclick=\"app.closeModal()\" title=\"Close\">\n                        <i class=\"fas fa-times\"></i>\n                    </button>\n                ` : ''}\n            </div>\n            <div class=\"modal-body modal-${size}\">\n                ${content}\n            </div>\n            ${actions.length > 0 ? `\n                <div class=\"modal-footer\">\n                    ${actions.map(action => `\n                        <button\n                            class=\"btn ${action.variant || 'btn-primary'}\"\n                            onclick=\"${action.onClick}\"\n                            ${action.disabled ? 'disabled' : ''}>\n                            ${action.icon ? `<i class=\"fas ${action.icon}\"></i>` : ''} ${SecurityUtils.escapeHtml(action.label)}\n                        </button>\n                    `).join('')}\n                </div>\n            ` : ''}\n        `;\n    }\n\n    /**\n     * Render confirmation dialog\n     */\n    static renderConfirmDialog(config = {}) {\n        const {\n            title = 'Confirm Action',\n            message = 'Are you sure you want to proceed?',\n            confirmLabel = 'Confirm',\n            cancelLabel = 'Cancel',\n            confirmVariant = 'btn-danger',\n            icon = 'fa-exclamation-triangle',\n            iconColor = 'warning',\n            onConfirm = '',\n            onCancel = 'app.closeModal()'\n        } = config;\n\n        return this.renderModal({\n            title,\n            content: `\n                <div style=\"text-align: center; padding: var(--space-xl);\">\n                    <div style=\"width: 80px; height: 80px; margin: 0 auto var(--space-lg); background: var(--color-${iconColor}-dim); border-radius: 50%; display: flex; align-items: center; justify-content: center;\">\n                        <i class=\"fas ${icon}\" style=\"font-size: 2.5rem; color: var(--color-${iconColor});\"></i>\n                    </div>\n                    <p style=\"font-size: 1.1rem; color: var(--text-primary); line-height: 1.5;\">\n                        ${SecurityUtils.escapeHtml(message)}\n                    </p>\n                </div>\n            `,\n            actions: [\n                { label: cancelLabel, variant: 'btn-secondary', onClick: onCancel },\n                { label: confirmLabel, variant: confirmVariant, onClick: onConfirm }\n            ],\n            showClose: false\n        });\n    }\n\n    /**\n     * Render table with pagination\n     */\n    static renderTable(config = {}) {\n        const {\n            columns = [],\n            data = [],\n            emptyMessage = 'No data available',\n            rowActions = [],\n            multiSelect = false\n        } = config;\n\n        return `\n            <table class=\"data-table\">\n                <thead>\n                    <tr>\n                        ${multiSelect ? '<th style=\"width: 40px;\"></th>' : ''}\n                        ${columns.map(col => `\n                            <th ${col.sortable ? `class=\"sortable\" onclick=\"${col.onSort}\"` : ''}>\n                                ${SecurityUtils.escapeHtml(col.label)}\n                                ${col.sortable ? '<i class=\"fas fa-sort\"></i>' : ''}\n                            </th>\n                        `).join('')}\n                        ${rowActions.length > 0 ? '<th>Actions</th>' : ''}\n                    </tr>\n                </thead>\n                <tbody>\n                    ${data.length > 0 ? data.map((row, idx) => `\n                        <tr data-id=\"${row.id || idx}\">\n                            ${multiSelect ? `<td>${this.renderCheckbox(row.id)}</td>` : ''}\n                            ${columns.map(col => `\n                                <td>${col.render ? col.render(row) : SecurityUtils.escapeHtml(String(row[col.key] || '-'))}</td>\n                            `).join('')}\n                            ${rowActions.length > 0 ? `\n                                <td>\n                                    ${rowActions.map(action => this.renderIconButton(\n                                        action.icon,\n                                        `${action.onClick}('${row.id}')`,\n                                        { title: action.label, variant: action.variant || '' }\n                                    )).join('')}\n                                </td>\n                            ` : ''}\n                        </tr>\n                    `).join('') : `\n                        <tr>\n                            <td colspan=\"${columns.length + (multiSelect ? 1 : 0) + (rowActions.length > 0 ? 1 : 0)}\" class=\"empty-state\">\n                                ${SecurityUtils.escapeHtml(emptyMessage)}\n                            </td>\n                        </tr>\n                    `}\n                </tbody>\n            </table>\n        `;\n    }\n\n    /**\n     * Render checkbox\n     */\n    static renderCheckbox(id, checked = false, onChange = 'app.handleCheckbox') {\n        return `\n            <input\n                type=\"checkbox\"\n                ${checked ? 'checked' : ''}\n                onchange=\"${onChange}('${id}', this.checked)\"\n                data-id=\"${id}\"\n            >\n        `;\n    }\n\n    /**\n     * Render toast notification (returns config for app.showToast)\n     */\n    static createToastConfig(message, type = 'info', duration = 5000) {\n        return { message, type, duration };\n    }\n}\n\nexport default UIComponents;\n"],"names":["SecurityUtils","value","field","operator","safeValue","text","div","url","trimmed","proto","input","options","maxLength","minLength","allowedChars","required","RateLimiter","endpoint","type","now","limit","validRequests","timestamp","history","resetTime","SessionManager","timeoutMinutes","warningMinutes","onTimeout","onWarning","event","inactiveMs","remainingMinutes","remainingMs","rateLimiter","sessionManager","PAGINATION","Paginator","items","pageSize","start","end","page","newSize","firstItemOnPage","maxButtons","_","i","half","pages","onPageChangeCallback","info","pageNumbers","size","ExportUtils","data","filename","columns","firstItem","key","csvRows","col","item","row","csvContent","pretty","jsonContent","str","obj","path","keys","content","mimeType","blob","link","prefix","ExportConfigs","BulkOperationsManager","onSelectionChange","itemId","onChangeCallback","allSelected","actions","count","action","executeBulkOperation","operation","onProgress","onComplete","results","error","resolve","renderBulkProgressModal","progress","percentage","renderBulkResultsModal","hasErrors","err","UIComponents","title","config","searchPlaceholder","searchId","searchCallback","filters","filter","opt","variant","level","c","icon","onClick","disabled","message","label","color","trend","showClose","confirmLabel","cancelLabel","confirmVariant","iconColor","onConfirm","onCancel","emptyMessage","rowActions","multiSelect","idx","id","checked","onChange","duration"],"mappings":"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"}